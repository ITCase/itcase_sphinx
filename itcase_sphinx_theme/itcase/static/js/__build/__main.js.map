{"version":3,"file":"__main.js","sources":["webpack:///webpack/bootstrap 5e759fc1e4c82871fcd1","webpack:///itcase_sphinx_theme/itcase/static/js/main.js","webpack:///itcase_sphinx_theme/itcase/static/js/vendor/enscroll.js","webpack:///itcase_sphinx_theme/itcase/static/js/vendor/jquery.fancybox.js","webpack:///itcase_sphinx_theme/itcase/static/js/vendor/js.cookie.js","webpack:///./itcase_sphinx_theme/itcase/static/js/vendor/js.cookie.js","webpack:///(webpack)/buildin/global.js"],"sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/itcase_sphinx_theme/itcase/static/js/__build/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5e759fc1e4c82871fcd1","'use strict'\n\nrequire('expose-loader?Cookies!./vendor/js.cookie.js')\n\nconst leftHeight = $('.page__left').height()\nconst rightHeight = $('.page__right').height()\n\nrequire('./vendor/jquery.fancybox.js')\nrequire('./vendor/enscroll.js')\n\n$('.internal.image-reference').fancybox({\n  padding: 3,\n  beforeShow: function () {\n    var alt = this.element.find('img').attr('alt')\n    this.inner.find('img').attr('alt', alt)\n    this.title = alt\n  },\n  helpers: {\n    title: {\n      type: 'over'\n    },\n    overlay: {\n      locked: false\n    }\n  }\n})\n\nconst menu = $('.menu')\nconst menuSwitch = $('.menu-switch')\nconst menuSwitchArrow = $('.menu-switch__arrow')\n\nconst pageLeft = $('.page__left')\nconst pageRight = $('.page__right')\n\nfunction getTreeState () {\n  const menuState = Cookies.get('menu-state')\n  if (menuState === 'collapse') {\n    collapseTree()\n  } else if (menuState === 'expand') {\n    expandTree()\n  }\n  pageLeft.css({ visibility: 'visible' })\n  pageRight.css({ visibility: 'visible' })\n}\n\nfunction collapseTree () {\n  menu.animate({\n    width: '12px'\n  })\n  $('.page__right-inner').animate({\n    'padding-left': '40px'\n  })\n  menu.css({\n    height: menu.height()\n  })\n  menu.data('state', 'collapse')\n  menu.addClass('menu_state_collapse')\n  pageLeft.addClass('page__left_state_collapse')\n  pageRight.addClass('page__right_state_expand')\n  menuSwitchArrow.text('»')\n  document.cookie = 'menu-state=collapse;path=/'\n}\n\nfunction expandTree () {\n  menu.animate({\n    width: '300px'\n  })\n  $('.page__right-inner').animate({\n    'padding-left': '320px'\n  })\n  menu.data('state', 'expand')\n  menu.removeClass('menu_state_collapse')\n  pageLeft.removeClass('page__left_state_collapse')\n  pageRight.removeClass('page__right_state_expand')\n  menuSwitchArrow.text('«')\n  document.cookie = 'menu-state=expande;path=/'\n}\n\n$(menuSwitch).on('click', () => {\n  if (menu.data('state') === 'collapse') {\n    expandTree()\n    menu.data('state', 'expand')\n  } else if (menu.data('state') === 'expand') {\n    collapseTree()\n    menu.data('state', 'collapse')\n  }\n})\n\n$('.internal.image-reference').on('click', (event) => {\n  event.preventDefault()\n})\n\ngetTreeState()\n\nfunction setMenuHeight () {\n  if ($('.menu').height() >= ($(window).height() - 55)) {\n    $('.menu').css({ height: ($(window).height() - 55) })\n    $('.menu-inner').css({ height: $('.menu').height() })\n  } else {\n    $('.menu').css({ height: 'auto' })\n    $('.menu-inner').css({ height: 'auto' })\n  }\n}\n\nfunction setMenuPosition() {\n  if (rightHeight > leftHeight) {\n    const menuHeight = $('.menu').height()\n    const wrapperPosition = $('.page').offset().top\n    let menuPosition = $('.menu').offset().top + menuHeight\n    let screenPosition = $(window).scrollTop() + menuHeight\n    let footerPosition = $('.footer').offset().top\n\n    // console.log('menuHeight' + menuHeight)\n    // console.log('menuPosition' + $('.menu').offset().top)\n    // console.log('wrapperPosition' + wrapperPosition)\n\n    if (menuPosition >= footerPosition && screenPosition >= footerPosition) {\n      // Touch Footer\n      // console.log('Touch Footer')\n      $('.menu').css({\n        position: 'absolute',\n        top: footerPosition - (menuHeight + 25)\n      })\n    } else {\n      // Sticky\n      // console.log('Sticky')\n      $('.menu').css({\n        position: 'fixed',\n        top: 0\n      })\n      if ($('.menu').offset().top <= wrapperPosition) {\n        $('.menu').css({\n          position: 'relative',\n          top: 0\n        })\n      }\n    }\n  }\n}\n\nsetMenuPosition()\n\nif (window.STICKY_MENU === true) {\n  $('.menu-inner').enscroll({\n    showOnHover: true,\n    verticalTrackClass: 'menu-track',\n    verticalHandleClass: 'menu-handle'\n  })\n\n  setMenuHeight()\n\n  $(window).bind('stickyMenu', () => {\n    $(window).scroll(() => {\n      setMenuPosition()\n    })\n  }).trigger('stickyMenu')\n}\n\n$(window).resize(() => {\n  setMenuHeight()\n})\n\n\n\n// WEBPACK FOOTER //\n// itcase_sphinx_theme/itcase/static/js/main.js","/*global jQuery:false*/\r\n\r\n/**\r\n * enscroll.js - jQuery plugin to add custom scrollbars to HTML block elements\r\n * Copyright (C) 2012 Jason T. Stoudt\r\n * Released under the MIT license\r\n * http://enscrollplugin.com/license.html\r\n **/\r\n\r\n;(function( $, win, doc, undefined ) {\r\n\r\n\tvar defaultSettings = {\r\n\t\tverticalScrolling: true,\r\n\t\thorizontalScrolling: false,\r\n        verticalScrollerSide: 'right',\r\n\t\tshowOnHover: false,\r\n\t\tscrollIncrement: 20,\r\n\t\tminScrollbarLength: 40,\r\n\t\tpollChanges: true,\r\n\t\tdrawCorner: true,\r\n\t\tdrawScrollButtons: false,\r\n\t\tclickTrackToScroll: true,\r\n\t\teasingDuration: 500,\r\n\t\tpropagateWheelEvent: true,\r\n\t\tverticalTrackClass: 'vertical-track',\r\n\t\thorizontalTrackClass: 'horizontal-track',\r\n\t\thorizontalHandleClass: 'horizontal-handle',\r\n\t\tverticalHandleClass: 'vertical-handle',\r\n\t\tscrollUpButtonClass: 'scroll-up-btn',\r\n\t\tscrollDownButtonClass: 'scroll-down-btn',\r\n\t\tscrollLeftButtonClass: 'scroll-left-btn',\r\n\t\tscrollRightButtonClass: 'scroll-right-btn',\r\n\t\tcornerClass: 'scrollbar-corner',\r\n\t\tzIndex: 1,\r\n\t\taddPaddingToPane: true,\r\n\t\thorizontalHandleHTML: '<div class=\"left\"></div><div class=\"right\"></div>',\r\n\t\tverticalHandleHTML: '<div class=\"top\"></div><div class=\"bottom\"></div>'\r\n\t},\r\n\r\n\tpreventDefault = function( event ) {\r\n\t\tif ( event.preventDefault ) {\r\n\t\t\tevent.preventDefault();\r\n\t\t} else {\r\n\t\t\tevent.returnValue = false;\r\n\t\t}\r\n\r\n\t\tif ( event.stopPropagation ) {\r\n\t\t\tevent.stopPropagation();\r\n\t\t} else {\r\n\t\t\tevent.cancelBubble = true;\r\n\t\t}\r\n\t},\r\n\r\n\t// normalize requestAnimationFrame function and polyfill if needed\r\n\treqAnimFrame = win.requestAnimationFrame ||\r\n\t\t\twin.mozRequestAnimationFrame ||\r\n\t\t\twin.webkitRequestAnimationFrame ||\r\n\t\t\twin.oRequestAnimationFrame ||\r\n\t\t\twin.msRequestAnimationFrame ||\r\n\t\t\tfunction( f ) { setTimeout( f, 17 ); },\r\n\r\n\tgetComputedValue = function( elem, property ) {\r\n\t\tvar w = $( elem ).css( property ),\r\n\t\t\tmatches = /^-?\\d+/.exec( w );\r\n\t\treturn matches ? +matches[0] : 0;\r\n\t},\r\n\r\n\ttestScrollHeight = function( nodeName ) {\r\n\t\tvar styles = {\r\n\t\t\t\twidth: '5px',\r\n\t\t\t\theight: '1px',\r\n\t\t\t\toverflow: 'hidden',\r\n\t\t\t\tpadding: '8px 0',\r\n\t\t\t\tvisibility: 'hidden',\r\n\t\t\t\twhiteSpace: 'pre-line',\r\n\t\t\t\tfont: '10px/1 serif'\r\n\t\t\t},\r\n\t\t\tpane = document.createElement( nodeName ),\r\n\t\t\ttextNode = document.createTextNode( 'a\\na' ),\r\n\t\t\tresult, attr;\r\n\r\n\t\tfor ( attr in styles ) {\r\n\t\t\tpane.style[ attr ] = styles[ attr ];\r\n\t\t}\r\n\r\n\t\tpane.appendChild( textNode );\r\n\t\tdocument.body.appendChild( pane );\r\n\r\n\t\tresult = ( pane.scrollHeight < 28 );\r\n\r\n\t\tdocument.body.removeChild( pane );\r\n\r\n\t\treturn result;\r\n\t},\r\n\r\n\tPI_OVER_2 = 0.5 * Math.PI,\r\n\r\n\tTEN_LOG2 = 10 * Math.log( 2 ),\r\n\r\n\teaseOutSin = function( c, d, t ) {\r\n\t\tvar b = PI_OVER_2 / d,\r\n\t\t\ta = c * b;\r\n\r\n\t\treturn Math.round( a * Math.cos( b * t ));\r\n\t},\r\n\r\n\teaseOutExpo = function( c, d, t ) {\r\n\t\treturn Math.round( c * TEN_LOG2 * Math.pow( 2, -10 * t / d + 1 ) / d );\r\n\t},\r\n\r\n\ttimeFromPosition = function( b, c, d, x ) {\r\n\t\treturn 2 * d / Math.PI * Math.asin(( x - b ) / c );\r\n\t},\r\n\r\n\tshowScrollbars = function( scheduleHide ) {\r\n\t\tvar data = $( this ).data( 'enscroll' ),\r\n\t\t\tthat = this,\r\n\t\t\tsettings = data.settings,\r\n\t\t\thideScrollbars = function() {\r\n\t\t\t\tvar data = $( this ).data( 'enscroll' ),\r\n\t\t\t\t\tsettings = data.settings;\r\n\r\n\t\t\t\tif ( data && settings.showOnHover ) {\r\n\t\t\t\t\tif ( settings.verticalScrolling &&\r\n\t\t\t\t\t\t$( data.verticalTrackWrapper ).is( ':visible' )) {\r\n\t\t\t\t\t\t$( data.verticalTrackWrapper ).stop().fadeTo( 275, 0 );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( settings.horizontalScrolling &&\r\n\t\t\t\t\t\t$( data.horizontalTrackWrapper ).is( ':visible' )) {\r\n\t\t\t\t\t\t$( data.horizontalTrackWrapper ).stop().fadeTo( 275, 0 );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdata._fadeTimer = null;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\tif ( data && settings.showOnHover ) {\r\n\t\t\tif ( data._fadeTimer ) {\r\n\t\t\t\tclearTimeout( data._fadeTimer );\r\n\t\t\t} else {\r\n\t\t\t\tif ( settings.verticalScrolling &&\r\n\t\t\t\t\t$( data.verticalTrackWrapper ).is( ':visible' )) {\r\n\t\t\t\t\t$( data.verticalTrackWrapper ).stop().fadeTo( 275, 1 );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( settings.horizontalScrolling &&\r\n\t\t\t\t\t$( data.horizontalTrackWrapper ).is( ':visible' )) {\r\n\t\t\t\t\t$( data.horizontalTrackWrapper ).stop().fadeTo( 275, 1 );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif ( scheduleHide !== false ) {\r\n\t\t\t\tdata._fadeTimer = setTimeout(function() {\r\n\t\t\t\t\thideScrollbars.call( that );\r\n\t\t\t\t}, 1750);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tscrollVertical = function( pane, dy ) {\r\n\t\tvar $pane = $( pane ),\r\n\t\t\tdata = $pane.data( 'enscroll' ),\r\n\t\t\ty0 = $pane.scrollTop();\r\n\r\n\t\tif ( data && data.settings.verticalScrolling ) {\r\n\t\t\t$pane.scrollTop( y0 + dy );\r\n\t\t\tif ( data.settings.showOnHover ) {\r\n\t\t\t\tshowScrollbars.call( pane );\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tscrollHorizontal = function( pane, dx ) {\r\n\t\tvar $pane = $( pane ),\r\n\t\t\tdata = $pane.data( 'enscroll' ),\r\n\t\t\tx0 = $pane.scrollLeft();\r\n\t\tif ( data && data.settings.horizontalScrolling ) {\r\n\t\t\t$pane.scrollLeft( x0 + dx );\r\n\t\t\tif ( data.settings.showOnHover ) {\r\n\t\t\t\tshowScrollbars.call( pane );\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tstartVerticalDrag = function( event ) {\r\n\t\t// only handle events for left mouse button dragging\r\n\t\tif ( event.which !== 1 ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar pane = event.data.pane,\r\n\t\t\t$pane = $( pane ),\r\n\t\t\tdata = $pane.data( 'enscroll' ),\r\n\t\t\tdragging = true,\r\n\t\t\t$track, handle, handleY, oldHandleY, mouseYOffset,\r\n\t\t\ttrackYOffset, bodyCursor, trackDiff, paneDiff,\r\n\r\n\t\t\tmoveHandle = function() {\r\n\t\t\t\tif ( !dragging ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( handleY !== oldHandleY ) {\r\n\t\t\t\t\tif ( !data._scrollingY ) {\r\n\t\t\t\t\t\tdata._scrollingY = true;\r\n\t\t\t\t\t\tdata._startY = $pane.scrollTop();\r\n\t\t\t\t\t\treqAnimFrame( function() {\r\n\t\t\t\t\t\t\tscrollAnimate( $pane );\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\thandle.style.top = handleY + 'px';\r\n\r\n\t\t\t\t\tdata._endY = handleY * paneDiff / trackDiff;\r\n\t\t\t\t\toldHandleY = handleY;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treqAnimFrame( moveHandle );\r\n\r\n\t\t\t\tif ( data.settings.showOnHover ) {\r\n\t\t\t\t\tshowScrollbars.call( pane );\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tmoveDrag = function( event ) {\r\n\t\t\t\tif ( dragging ) {\r\n\t\t\t\t\thandleY = event.clientY - trackYOffset - mouseYOffset;\r\n\t\t\t\t\thandleY = Math.min( handleY < 0 ? 0 : handleY, trackDiff );\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\r\n\t\t\tendDrag = function() {\r\n\t\t\t\tdragging = false;\r\n\r\n\t\t\t\tdoc.body.style.cursor = bodyCursor;\r\n\t\t\t\tthis.style.cursor = '';\r\n\t\t\t\t$track.removeClass( 'dragging' );\r\n\r\n\t\t\t\t$( doc.body )\r\n\t\t\t\t\t.off( 'mousemove.enscroll.vertical' )\r\n\t\t\t\t\t.off( 'mouseup.enscroll.vertical' );\r\n\r\n\t\t\t\t$( doc ).off( 'mouseout.enscroll.vertical' );\r\n\r\n\t\t\t\t$pane.on( 'scroll.enscroll.pane', function( event ) {\r\n\t\t\t\t\tpaneScrolled.call( this, event );\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn false;\r\n\t\t\t};\r\n\r\n\t\t$track = $( data.verticalTrackWrapper ).find( '.enscroll-track' );\r\n\t\thandle = $track.children().first()[0];\r\n\t\thandleY = parseInt( handle.style.top, 10 );\r\n\t\tpaneDiff = pane.scrollHeight -\r\n\t\t\t(data._scrollHeightNoPadding ? $(pane).height() : $(pane).innerHeight());\r\n\r\n\t\tmouseYOffset = event.clientY - $( handle ).offset().top;\r\n\t\ttrackDiff = $track.height() - $( handle ).outerHeight();\r\n\t\ttrackYOffset = $track.offset().top;\r\n\r\n\t\t$pane.off( 'scroll.enscroll.pane' );\r\n\r\n\t\t$( doc.body ).on({\r\n\t\t\t'mousemove.enscroll.vertical': moveDrag,\r\n\t\t\t'mouseup.enscroll.vertical': function( event ) {\r\n\t\t\t\tendDrag.call( handle, event );\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$( doc ).on( 'mouseout.enscroll.vertical', function( event ) {\r\n\t\t\tif ( event.target.nodeName && event.target.nodeName.toUpperCase() === 'HTML' ) {\r\n\t\t\t\tendDrag.call( handle, event );\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif ( !$track.hasClass( 'dragging' ) ) {\r\n\t\t\t$track.addClass( 'dragging' );\r\n\t\t\tbodyCursor = $( doc.body ).css( 'cursor' );\r\n\t\t\tthis.style.cursor = doc.body.style.cursor = 'ns-resize';\r\n\t\t}\r\n\r\n\t\treqAnimFrame( moveHandle );\r\n\r\n\t\treturn false;\r\n\t},\r\n\r\n\tstartHorizontalDrag = function( event ) {\r\n\t\t// dragging the scrollbar handle only works with left mouse button\r\n\t\tif ( event.which !== 1 ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar pane = event.data.pane,\r\n\t\t\t$pane = $( pane ),\r\n\t\t\tdata = $( pane ).data( 'enscroll' ),\r\n\t\t\tdragging = true,\r\n\t\t\t$track, handle, handleX, oldHandleX, paneDiff,\r\n\t\t\tmouseXOffset, trackXOffset, bodyCursor, trackDiff,\r\n\r\n\t\t\tmoveHandle = function() {\r\n\t\t\t\tif ( !dragging ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( handleX !== oldHandleX ) {\r\n\t\t\t\t\tif ( !data._scrollingX ) {\r\n\t\t\t\t\t\tdata._scrollingX = true;\r\n\t\t\t\t\t\tdata._startX = $pane.scrollLeft();\r\n\t\t\t\t\t\treqAnimFrame( function() {\r\n\t\t\t\t\t\t\tscrollAnimate( $pane );\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\thandle.style.left = handleX + 'px';\r\n\r\n\t\t\t\t\tdata._endX = handleX * paneDiff / trackDiff;\r\n\t\t\t\t\toldHandleX = handleX;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treqAnimFrame( moveHandle );\r\n\r\n\t\t\t\tif ( data.settings.showOnHover ) {\r\n\t\t\t\t\tshowScrollbars.call( pane );\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tmoveDrag = function( event ) {\r\n\t\t\t\tif ( dragging ) {\r\n\t\t\t\t\thandleX = event.clientX - trackXOffset - mouseXOffset;\r\n\t\t\t\t\thandleX = Math.min( handleX < 0 ? 0 : handleX, trackDiff );\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\r\n\t\t\tendDrag = function() {\r\n\t\t\t\tdragging = false;\r\n\r\n\t\t\t\t$track.removeClass('dragging');\r\n\r\n\t\t\t\tdoc.body.style.cursor = bodyCursor;\r\n\t\t\t\tthis.style.cursor = '';\r\n\t\t\t\t$track.removeClass( 'dragging' );\r\n\r\n\t\t\t\t$( doc.body )\r\n\t\t\t\t\t.off( 'mousemove.enscroll.horizontal' )\r\n\t\t\t\t\t.off( 'mouseup.enscroll.horizontal' );\r\n\r\n\t\t\t\t$( doc ).off ( 'mouseout.enscroll.horizontal' );\r\n\r\n\t\t\t\t$pane.on( 'scroll.enscroll.pane', function( event ) {\r\n\t\t\t\t\tpaneScrolled.call( this, event );\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn false;\r\n\t\t\t};\r\n\r\n\t\t$track = $( data.horizontalTrackWrapper ).find( '.enscroll-track' );\r\n\t\thandle = $track.children().first()[0];\r\n\t\thandleX = parseInt( handle.style.left, 10 );\r\n\t\tpaneDiff = pane.scrollWidth - $( pane ).innerWidth();\r\n\t\tmouseXOffset = event.clientX - $( handle ).offset().left;\r\n\t\ttrackDiff = $track.width() - $( handle ).outerWidth();\r\n\t\ttrackXOffset = $track.offset().left;\r\n\r\n\t\t$pane.off( 'scroll.enscroll.pane' );\r\n\r\n\t\t$( doc.body ).on({\r\n\t\t\t'mousemove.enscroll.horizontal': moveDrag,\r\n\t\t\t'mouseup.enscroll.horizontal': function( event ) {\r\n\t\t\t\tendDrag.call( handle, event );\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$( doc ).on( 'mouseout.enscroll.horizontal', function( event ) {\r\n\t\t\tif ( event.target.nodeName && event.target.nodeName.toUpperCase() === 'HTML' ) {\r\n\t\t\t\tendDrag.call( handle, event );\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif ( !$track.hasClass( 'dragging' ) ) {\r\n\t\t\t$track.addClass( 'dragging' );\r\n\t\t\tbodyCursor = $( 'body' ).css( 'cursor' );\r\n\t\t\tthis.style.cursor = doc.body.style.cursor = 'ew-resize';\r\n\t\t}\r\n\r\n\t\treqAnimFrame( moveHandle );\r\n\r\n\t\treturn false;\r\n\r\n\t},\r\n\r\n\tscrollAnimate = function( $pane ) {\r\n\t\tvar data = $pane.data( 'enscroll' ),\r\n\t\t\td = data._duration,\r\n\t\t\tc, curPos, t;\r\n\r\n\t\tif ( data._scrollingX === true ) {\r\n\t\t\tc = data._endX - data._startX;\r\n\t\t\tif ( c === 0 ) {\r\n\t\t\t\tdata._scrollingX = false;\r\n\t\t\t} else {\r\n\t\t\t\tcurPos = $pane.scrollLeft();\r\n\t\t\t\tt = timeFromPosition( data._startX, c, d, curPos );\r\n\t\t\t\tif ( c > 0 ) {\r\n\t\t\t\t\tif ( curPos >= data._endX || curPos < data._startX ) {\r\n\t\t\t\t\t\tdata._scrollingX = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tscrollHorizontal( $pane,\r\n\t\t\t\t\t\t\tMath.max( 1, easeOutSin( c, d, t )));\r\n\t\t\t\t\t\treqAnimFrame( function() {\r\n\t\t\t\t\t\t\tscrollAnimate( $pane );\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif ( curPos <= data._endX || curPos > data._startX ) {\r\n\t\t\t\t\t\tdata._scrollingX = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tscrollHorizontal( $pane,\r\n\t\t\t\t\t\t\tMath.min( -1, easeOutSin( c, d, t )));\r\n\t\t\t\t\t\treqAnimFrame( function() {\r\n\t\t\t\t\t\t\tscrollAnimate( $pane );\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( data._scrollingY === true ) {\r\n\t\t\tc = data._endY - data._startY;\r\n\t\t\tif ( c === 0 ) {\r\n\t\t\t\tdata._scrollingY = false;\r\n\t\t\t} else {\r\n\t\t\t\tcurPos = $pane.scrollTop();\r\n\t\t\t\tt = timeFromPosition( data._startY, c, d, curPos );\r\n\t\t\t\tif ( c > 0 ) {\r\n\t\t\t\t\tif ( curPos >= data._endY || curPos < data._startY ) {\r\n\t\t\t\t\t\tdata._scrollingY = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tscrollVertical( $pane,\r\n\t\t\t\t\t\t\tMath.max( 1, easeOutSin( c, d, t )));\r\n\t\t\t\t\t\treqAnimFrame( function() {\r\n\t\t\t\t\t\t\tscrollAnimate( $pane );\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif ( curPos <= data._endY || curPos > data._startY ) {\r\n\t\t\t\t\t\tdata._scrollingY = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tscrollVertical( $pane,\r\n\t\t\t\t\t\t\tMath.min( -1, easeOutSin( c, d, t )));\r\n\t\t\t\t\t\treqAnimFrame( function() {\r\n\t\t\t\t\t\t\tscrollAnimate( $pane );\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tscrollAnimateHorizontal = function( $pane, delta ) {\r\n\t\tvar data = $pane.data( 'enscroll' ),\r\n\t\t\tcurPos = $pane.scrollLeft(),\r\n\t\t\tscrollMax = $pane[0].scrollWidth - $pane.innerWidth();\r\n\r\n\t\tif ( !data.settings.horizontalScrolling || data._scrollingY ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif ( !data._scrollingX ) {\r\n\t\t\tdata._scrollingX = true;\r\n\t\t\tdata._startX = curPos;\r\n\t\t\tdata._endX = data._startX;\r\n\t\t\treqAnimFrame( function() {\r\n\t\t\t\tscrollAnimate( $pane );\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tdata._endX = delta > 0 ? Math.min( curPos + delta, scrollMax ) :\r\n\t\t\tMath.max( 0, curPos + delta );\r\n\r\n\t\treturn delta < 0 && curPos > 0 || delta > 0 && curPos < scrollMax;\r\n\t},\r\n\r\n\tscrollAnimateVertical = function( $pane, delta ) {\r\n\t\tvar data = $pane.data( 'enscroll' ),\r\n\t\t\tcurPos = $pane.scrollTop(),\r\n\t\t\tscrollMax = $pane[0].scrollHeight - (data._scrollHeightNoPadding ? $pane.height() : $pane.innerHeight());\r\n\r\n\t\tif ( !data.settings.verticalScrolling || data._scrollingX ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif ( !data._scrollingY ) {\r\n\t\t\tdata._scrollingY = true;\r\n\t\t\tdata._startY = curPos;\r\n\t\t\tdata._endY = data._startY;\r\n\t\t\treqAnimFrame( function() {\r\n\t\t\t\tscrollAnimate( $pane );\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tdata._endY = delta > 0 ? Math.min( curPos + delta, scrollMax ) :\r\n\t\t\tMath.max( 0, curPos + delta );\r\n\r\n\t\treturn delta < 0 && curPos > 0 || delta > 0 && curPos < scrollMax;\r\n\t},\r\n\r\n\tmouseScroll = function( event ) {\r\n\t\tvar $pane = $( this ),\r\n\t\t\tdata = $pane.data( 'enscroll' ),\r\n\t\t\tscrollIncrement = data.settings.scrollIncrement,\r\n\t\t\tdeltaX = 'deltaX' in event ? -event.deltaX :\r\n\t\t\t\t'wheelDeltaX' in event ? event.wheelDeltaX :\r\n\t\t\t\t0,\r\n\t\t\tdeltaY = 'deltaY' in event ? -event.deltaY :\r\n\t\t\t\t'wheelDeltaY' in event ? event.wheelDeltaY :\r\n\t\t\t\t'wheelDelta' in event ? event.wheelDelta :\r\n\t\t\t\t0,\r\n\t\t\tdelta;\r\n\r\n\t\tif ( Math.abs( deltaX ) > Math.abs( deltaY )) {\r\n\t\t\tdelta = ( deltaX > 0 ? -scrollIncrement : scrollIncrement ) << 2;\r\n\t\t\tif ( scrollAnimateHorizontal( $pane, delta ) || !data.settings.propagateWheelEvent ) {\r\n\t\t\t\tpreventDefault( event );\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tdelta = ( deltaY > 0 ? -scrollIncrement : scrollIncrement ) << 2;\r\n\t\t\tif ( scrollAnimateVertical( $pane, delta ) || !data.settings.propagateWheelEvent ) {\r\n\t\t\t\tpreventDefault( event );\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tpaneScrolled = function() {\r\n\t\tvar $this = $( this ),\r\n\t\t\tdata = $this.data( 'enscroll' ),\r\n\t\t\thandle, track, pct;\r\n\r\n\t\tif ( data ) {\r\n\t\t\tif ( data.settings.verticalScrolling ) {\r\n\t\t\t\ttrack = $( data.verticalTrackWrapper ).find( '.enscroll-track' )[0];\r\n\t\t\t\thandle = track.firstChild;\r\n\t\t\t\tpct = $this.scrollTop() / ( this.scrollHeight - (data._scrollHeightNoPadding ? $this.height() : $this.innerHeight()));\r\n\t\t\t\tpct = isNaN( pct ) ? 0 : pct;\r\n\r\n\t\t\t\thandle.style.top = ( pct * ( $( track ).height() - $( handle ).outerHeight() )) + 'px';\r\n\t\t\t}\r\n\r\n\t\t\tif ( data.settings.horizontalScrolling ) {\r\n\t\t\t\ttrack = $( data.horizontalTrackWrapper ).find( '.enscroll-track' )[0];\r\n\t\t\t\thandle = track.firstChild;\r\n\t\t\t\tpct = $this.scrollLeft() / ( this.scrollWidth - $this.innerWidth() );\r\n\t\t\t\tpct = isNaN( pct ) ? 0 : pct;\r\n\r\n\t\t\t\thandle.style.left = ( pct * ( $( track ).width() - $( handle ).innerWidth() )) + 'px';\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tkeyHandler = function( event ) {\r\n\t\tvar $this = $( this ),\r\n\t\t\tdata = $this.data( 'enscroll' ),\r\n\t\t\tscrollIncrement;\r\n\r\n\t\t// dont' have key events if this element is a user-input element\r\n\t\tif (/(input)|(select)|(textarea)/i.test( this.nodeName )) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// don't handle events that have just bubbled up\r\n\t\tif ( event.target === this && data ) {\r\n\t\t\tscrollIncrement = data.settings.scrollIncrement;\r\n\r\n\t\t\tswitch( event.keyCode ) {\r\n\t\t\t\tcase 32: // space\r\n\t\t\t\tcase 34: // page down\r\n\t\t\t\t\tscrollAnimateVertical( $this, $this.height() );\r\n\t\t\t\t\treturn false;\r\n\t\t\t\tcase 33: // page up\r\n\t\t\t\t\tscrollAnimateVertical( $this, -$this.height() );\r\n\t\t\t\t\treturn false;\r\n\t\t\t\tcase 35: // end\r\n\t\t\t\t\tscrollAnimateVertical( $this, this.scrollHeight );\r\n\t\t\t\t\treturn false;\r\n\t\t\t\tcase 36: // home\r\n\t\t\t\t\tscrollAnimateVertical( $this, -this.scrollHeight );\r\n\t\t\t\t\treturn false;\r\n\t\t\t\tcase 37: // left\r\n\t\t\t\t\tscrollAnimateHorizontal( $this, -scrollIncrement );\r\n\t\t\t\t\treturn false;\r\n\t\t\t\tcase 38: // up\r\n\t\t\t\t\tscrollAnimateVertical( $this, -scrollIncrement );\r\n\t\t\t\t\treturn false;\r\n\t\t\t\tcase 39: // right\r\n\t\t\t\t\tscrollAnimateHorizontal( $this, scrollIncrement );\r\n\t\t\t\t\treturn false;\r\n\t\t\t\tcase 40: // down\r\n\t\t\t\t\tscrollAnimateVertical( $this, scrollIncrement );\r\n\t\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\t},\r\n\r\n\tdragHandler = function() {\r\n\t\tvar pane = this,\r\n\t\t\tsettings = $( pane ).data( 'enscroll' ).settings,\r\n\t\t\tdragging = true,\r\n\t\t\tdeltaX = 0,\r\n\t\t\tdeltaY = 0,\r\n\t\t\tpaneTop = $( pane ).offset().top,\r\n\t\t\tpaneBottom = paneTop + $( pane ).outerHeight(),\r\n\t\t\tpaneLeft = $( pane ).offset().left,\r\n\t\t\tpaneRight = paneLeft + $( pane ).outerWidth(),\r\n\t\t\tdragMove = function( event ) {\r\n\t\t\t\tvar x = event.pageX,\r\n\t\t\t\t\ty = event.pageY;\r\n\r\n\t\t\t\tdeltaX = x < paneLeft ? x - paneLeft :\r\n\t\t\t\t\tx > paneRight ? x - paneRight :\r\n\t\t\t\t\t0;\r\n\r\n\t\t\t\tdeltaY = y < paneTop ? y - paneTop :\r\n\t\t\t\t\ty > paneBottom ? y - paneBottom :\r\n\t\t\t\t\t0;\r\n\t\t\t},\r\n\r\n\t\t\tdragPoll = function() {\r\n\t\t\t\tif ( settings.horizontalScrolling && deltaX ) {\r\n\t\t\t\t\tscrollHorizontal(pane, parseInt( deltaX / 4, 10 ));\r\n\t\t\t\t}\r\n\t\t\t\tif ( settings.verticalScrolling && deltaY ) {\r\n\t\t\t\t\tscrollVertical( pane, parseInt( deltaY / 4, 10 ));\r\n\t\t\t\t}\r\n\t\t\t\tif ( dragging ) {\r\n\t\t\t\t\treqAnimFrame( dragPoll );\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tdragEnd = function() {\r\n\t\t\t\tdragging = false;\r\n\t\t\t\t$( doc )\r\n\t\t\t\t\t.off( 'mousemove.enscroll.pane' )\r\n\t\t\t\t\t.off( 'mouseup.enscroll.pane' );\r\n\t\t\t};\r\n\r\n\t\treqAnimFrame( dragPoll );\r\n\r\n\t\t$( doc ).on({\r\n\t\t\t'mousemove.enscroll.pane': dragMove,\r\n\t\t\t'mouseup.enscroll.pane': dragEnd\r\n\t\t});\r\n\t},\r\n\r\n\ttouchStart = function( event ) {\r\n\t\tvar touchX, touchY, touchAxis, touchX0, touchY0, touchStarted, touchDelta,\r\n\t\t\tpane = this,\r\n\t\t\ttouchMove = function( event ) {\r\n\t\t\t\ttouchX = event.touches[0].clientX;\r\n\t\t\t\ttouchY = event.touches[0].clientY;\r\n\r\n\t\t\t\tif ( !touchAxis ) {\r\n\t\t\t\t\ttouchAxis = touchY === touchY0 && touchX === touchX0 ? undefined :\r\n\t\t\t\t\t\tMath.abs( touchY0 - touchY ) > Math.abs( touchX0 - touchX ) ? 'y' :\r\n\t\t\t\t\t\t'x';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tpreventDefault( event );\r\n\t\t\t},\r\n\r\n\t\t\ttouchPoll = function() {\r\n\t\t\t\tif ( !touchStarted ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( touchAxis === 'y' ) {\r\n\t\t\t\t\tscrollVertical( pane, touchY0 - touchY );\r\n\t\t\t\t\ttouchDelta = touchY0 - touchY;\r\n\t\t\t\t\ttouchY0 = touchY;\r\n\t\t\t\t} else if ( touchAxis === 'x' ) {\r\n\t\t\t\t\tscrollHorizontal( pane, touchX0 - touchX );\r\n\t\t\t\t\ttouchDelta = touchX0 - touchX;\r\n\t\t\t\t\ttouchX0 = touchX;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treqAnimFrame( touchPoll );\r\n\t\t\t},\r\n\r\n\t\t\ttouchEnd = function() {\r\n\t\t\t\tvar t = 0,\r\n\t\t\t\t\td = Math.abs( touchDelta * 1.5 );\r\n\r\n\t\t\t\tthis.removeEventListener( 'touchmove', touchMove, false );\r\n\t\t\t\tthis.removeEventListener( 'touchend', touchEnd, false );\r\n\t\t\t\ttouchStarted = false;\r\n\r\n\t\t\t\treqAnimFrame( function touchFinish() {\r\n\t\t\t\t\tvar dx;\r\n\r\n\t\t\t\t\tif ( t === d || touchStarted ) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tdx = easeOutExpo( touchDelta, d, t );\r\n\r\n\t\t\t\t\tif ( !isNaN( dx ) && dx !== 0 ) {\r\n\t\t\t\t\t\tt += 1;\r\n\t\t\t\t\t\tif ( touchAxis === 'y' ) {\r\n\t\t\t\t\t\t\tscrollVertical( pane, dx );\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tscrollHorizontal( pane, dx );\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treqAnimFrame( touchFinish );\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t};\r\n\r\n\t\tif ( event.touches.length === 1 ) {\r\n\t\t\ttouchX0 = event.touches[0].clientX;\r\n\t\t\ttouchY0 = event.touches[0].clientY;\r\n\t\t\ttouchStarted = true;\r\n\t\t\tthis.addEventListener( 'touchmove', touchMove, false );\r\n\t\t\tthis.addEventListener( 'touchend', touchEnd, false );\r\n\t\t\treqAnimFrame( touchPoll );\r\n\t\t}\r\n\t},\r\n\r\n\tapi = {\r\n\t\treposition: function() {\r\n\t\t\treturn this.each(function() {\r\n\t\t\t\tvar $this = $( this ),\r\n\t\t\t\t\tdata = $this.data( 'enscroll' ),\r\n\t\t\t\t\tpositionElem = function( elem, x, y ) {\r\n\t\t\t\t\t\telem.style.left = x + 'px';\r\n\t\t\t\t\t\telem.style.top = y + 'px';\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcorner, trackWrapper, offset;\r\n\r\n\t\t\t\tif ( data ) {\r\n\t\t\t\t\toffset = $this.position();\r\n\t\t\t\t\tcorner = data.corner;\r\n\t\t\t\t\tif ( data.settings.verticalScrolling ) {\r\n\t\t\t\t\t\ttrackWrapper = data.verticalTrackWrapper;\r\n\t\t\t\t\t\tpositionElem( trackWrapper,\r\n                            ( data.settings.verticalScrollerSide === 'right' ? offset.left + $this.outerWidth() - $( trackWrapper ).width() - getComputedValue( this, 'border-right-width' ) : offset.left + getComputedValue( this, 'border-left-width' )),\r\n\t\t\t\t\t\t\toffset.top + getComputedValue( this, 'border-top-width' ));\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( data.settings.horizontalScrolling ) {\r\n\t\t\t\t\t\ttrackWrapper = data.horizontalTrackWrapper;\r\n\t\t\t\t\t\tpositionElem( trackWrapper,\r\n\t\t\t\t\t\t\toffset.left + getComputedValue( this, 'border-left-width' ),\r\n\t\t\t\t\t\t\toffset.top + $this.outerHeight() - $( trackWrapper ).height() - getComputedValue( this, 'border-bottom-width' ));\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( corner ) {\r\n\t\t\t\t\t\tpositionElem( corner,\r\n\t\t\t\t\t\t\toffset.left + $this.outerWidth() - $( corner ).outerWidth() - getComputedValue( this, 'border-right-width' ),\r\n\t\t\t\t\t\t\toffset.top + $this.outerHeight() - $( corner ).outerHeight() - getComputedValue( this, 'border-bottom-width' ));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tresize: function() {\r\n\t\t\treturn this.each(function() {\r\n\t\t\t\tvar $this = $( this ),\r\n\t\t\t\t\tdata = $this.data( 'enscroll' ),\r\n\t\t\t\t\tsettings, paneHeight, paneWidth,\r\n\t\t\t\t\ttrackWrapper, pct, track, trackWidth, trackHeight,\r\n\t\t\t\t\t$scrollUpBtn, $scrollDownBtn, $scrollLeftBtn, $scrollRightBtn,\r\n\t\t\t\t\thandle, handleWidth, handleHeight, prybar;\r\n\r\n\t\t\t\tif ( !data ) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsettings = data.settings;\r\n\r\n\t\t\t\tif ( $this.is( ':visible' )) {\r\n\t\t\t\t\tif ( settings.verticalScrolling ) {\r\n\t\t\t\t\t\ttrackWrapper = data.verticalTrackWrapper;\r\n\t\t\t\t\t\tpaneHeight = $this.innerHeight();\r\n\t\t\t\t\t\tpct = paneHeight / this.scrollHeight;\r\n\t\t\t\t\t\ttrack = $( trackWrapper ).find( '.enscroll-track' )[0];\r\n\t\t\t\t\t\t$scrollUpBtn = $( trackWrapper ).find( '.' + settings.scrollUpButtonClass );\r\n\t\t\t\t\t\t$scrollDownBtn = $(trackWrapper).find( '.' + settings.scrollDownButtonClass );\r\n\r\n\t\t\t\t\t\ttrackHeight = settings.horizontalScrolling ?\r\n\t\t\t\t\t\t\tpaneHeight - $( data.horizontalTrackWrapper ).find( '.enscroll-track' ).outerHeight() :\r\n\t\t\t\t\t\t\tpaneHeight;\r\n\t\t\t\t\t\ttrackHeight -= $( track ).outerHeight() - $( track ).height() + $scrollUpBtn.outerHeight() + $scrollDownBtn.outerHeight();\r\n\r\n\t\t\t\t\t\thandle = track.firstChild;\r\n\t\t\t\t\t\thandleHeight = Math.max( pct * trackHeight,\r\n\t\t\t\t\t\t\tsettings.minScrollbarLength );\r\n\t\t\t\t\t\thandleHeight -= $( handle ).outerHeight() - $( handle ).height();\r\n\r\n\t\t\t\t\t\t// hide the track first -- this causes less reflows and\r\n\t\t\t\t\t\t// fixes an IE8 bug that prevents background images\r\n\t\t\t\t\t\t// from being redrawn\r\n\t\t\t\t\t\ttrackWrapper.style.display = 'none';\r\n\t\t\t\t\t\ttrack.style.height = trackHeight + 'px';\r\n\t\t\t\t\t\thandle.style.height = handleHeight + 'px';\r\n\t\t\t\t\t\tif ( pct < 1 ) {\r\n\t\t\t\t\t\t\tpct = $this.scrollTop() / ( this.scrollHeight - $this.height() );\r\n\t\t\t\t\t\t\thandle.style.top = ( pct * ( trackHeight - handleHeight ) ) + 'px';\r\n\t\t\t\t\t\t\ttrackWrapper.style.display = 'block';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( settings.horizontalScrolling ) {\r\n\t\t\t\t\t\ttrackWrapper = data.horizontalTrackWrapper;\r\n\t\t\t\t\t\tpaneWidth = $this.innerWidth();\r\n\t\t\t\t\t\tpct = paneWidth / this.scrollWidth;\r\n\t\t\t\t\t\ttrack = $( trackWrapper ).find( '.enscroll-track' )[0];\r\n\t\t\t\t\t\t$scrollLeftBtn = $( trackWrapper ).find( '.' + settings.scrollLeftButtonClass );\r\n\t\t\t\t\t\t$scrollRightBtn = $( trackWrapper ).find( '.' + settings.scrollRightButtonClass );\r\n\r\n\t\t\t\t\t\ttrackWidth = settings.verticalScrolling ?\r\n\t\t\t\t\t\t\tpaneWidth - $( data.verticalTrackWrapper ).find( '.enscroll-track' ).outerWidth() :\r\n\t\t\t\t\t\t\tpaneWidth;\r\n\t\t\t\t\t\ttrackWidth -= $( track ).outerWidth() - $( track ).width() + $scrollLeftBtn.outerWidth() + $scrollRightBtn.outerWidth();\r\n\r\n\t\t\t\t\t\thandle = track.firstChild;\r\n\t\t\t\t\t\thandleWidth = Math.max( pct * trackWidth,\r\n\t\t\t\t\t\t\tsettings.minScrollbarLength);\r\n\t\t\t\t\t\thandleWidth -= $( handle ).outerWidth() - $( handle ).width();\r\n\r\n\t\t\t\t\t\t// see comment above\r\n\t\t\t\t\t\ttrackWrapper.style.display = 'none';\r\n\t\t\t\t\t\ttrack.style.width = trackWidth + 'px';\r\n\t\t\t\t\t\thandle.style.width = handleWidth + 'px';\r\n\t\t\t\t\t\tif ( pct < 1 ) {\r\n\t\t\t\t\t\t\tpct = $this.scrollLeft() / ( this.scrollWidth - $this.width() );\r\n\t\t\t\t\t\t\thandle.style.left = ( pct * ( trackWidth - handleWidth ) ) + 'px';\r\n\t\t\t\t\t\t\ttrackWrapper.style.display = 'block';\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif ( data._prybar ) {\r\n\t\t\t\t\t\t\tprybar = data._prybar;\r\n\t\t\t\t\t\t\tthis.removeChild( prybar );\r\n\t\t\t\t\t\t\tif ( settings.verticalScrolling ) {\r\n\t\t\t\t\t\t\t\tprybar.style.width = ( this.scrollWidth + $( data.verticalTrackWrapper ).find( '.enscroll-track' ).outerWidth()) + 'px';\r\n\t\t\t\t\t\t\t\tthis.appendChild( prybar );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( data.corner ) {\r\n\t\t\t\t\t\tdata.corner.style.display = data.verticalTrackWrapper && data.horizontalTrackWrapper && $( data.verticalTrackWrapper ).is( ':visible' ) && $( data.horizontalTrackWrapper ).is( ':visible' ) ? '' : 'none';\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif ( settings.verticalScrolling ) {\r\n\t\t\t\t\t\tdata.verticalTrackWrapper.style.display = 'none';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( settings.horizontalScrolling ) {\r\n\t\t\t\t\t\tdata.horizontalTrackWrapper.style.display = 'none';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( data.corner ) {\r\n\t\t\t\t\t\tdata.corner.style.display = 'none';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tstartPolling: function() {\r\n\t\t\treturn this.each(function() {\r\n\t\t\t\tvar data = $( this ).data( 'enscroll' ),\r\n\t\t\t\t\tpane = this,\r\n\t\t\t\t\t$pane = $( pane ),\r\n\t\t\t\t\tpaneWidth = -1,\r\n\t\t\t\t\tpaneHeight = -1,\r\n\t\t\t\t\tpaneScrollWidth = -1,\r\n\t\t\t\t\tpaneScrollHeight = -1,\r\n\t\t\t\t\tpaneOffset,\r\n\r\n\t\t\t\t\tpaneChangeListener = function() {\r\n\t\t\t\t\t\tif ( data.settings.pollChanges ) {\r\n\t\t\t\t\t\t\tvar sw = pane.scrollWidth,\r\n\t\t\t\t\t\t\t\tsh = pane.scrollHeight,\r\n\t\t\t\t\t\t\t\tpw = $pane.width(),\r\n\t\t\t\t\t\t\t\tph = $pane.height(),\r\n\t\t\t\t\t\t\t\toffset = $pane.offset();\r\n\r\n\t\t\t\t\t\t\tif ( data.settings.verticalScrolling &&\r\n\t\t\t\t\t\t\t\t\t( ph !== paneHeight || sh !== paneScrollHeight ) ||\r\n\t\t\t\t\t\t\t\tdata.settings.horizontalScrolling &&\r\n\t\t\t\t\t\t\t\t\t( pw !== paneWidth || sw !== paneScrollWidth ) ) {\r\n\t\t\t\t\t\t\t\tpaneScrollWidth = sw;\r\n\t\t\t\t\t\t\t\tpaneScrollHeight = sh;\r\n\r\n\t\t\t\t\t\t\t\tapi.resize.call( $pane );\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif ( paneOffset.left !== offset.left ||\r\n\t\t\t\t\t\t\t\t\tpaneOffset.top !== offset.top ||\r\n\t\t\t\t\t\t\t\t\tpw !== paneWidth ||\r\n\t\t\t\t\t\t\t\t\tph !== paneHeight ) {\r\n\r\n\t\t\t\t\t\t\t\tpaneOffset = offset;\r\n\t\t\t\t\t\t\t\tpaneWidth = pw;\r\n\t\t\t\t\t\t\t\tpaneHeight = ph;\r\n\r\n\t\t\t\t\t\t\t\tapi.reposition.call( $pane );\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tsetTimeout( paneChangeListener, 350 );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\tif ( data ) {\r\n\t\t\t\t\tdata.settings.pollChanges = true;\r\n\t\t\t\t\tpaneScrollHeight = pane.scrollHeight;\r\n\t\t\t\t\tpaneScrollWidth = pane.scrollWidth;\r\n\t\t\t\t\tpaneOffset = $pane.offset();\r\n\t\t\t\t\tpaneChangeListener();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tstopPolling: function() {\r\n\t\t\treturn this.each(function() {\r\n\t\t\t\tvar data = $( this ).data( 'enscroll' );\r\n\t\t\t\tif ( data ) {\r\n\t\t\t\t\tdata.settings.pollChanges = false;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tdestroy: function() {\r\n\t\t\treturn this.each(function() {\r\n\t\t\t\tvar $this = $( this ),\r\n\t\t\t\t\tdata = $this.data( 'enscroll' ),\r\n\t\t\t\t\ttrackWrapper, mouseScrollHandler;\r\n\t\t\t\tif ( data ) {\r\n\r\n\t\t\t\t\tapi.stopPolling.call( $this );\r\n\r\n\t\t\t\t\tmouseScrollHandler = data._mouseScrollHandler;\r\n\r\n\t\t\t\t\tif ( data.settings.verticalScrolling ) {\r\n\t\t\t\t\t\ttrackWrapper = data.verticalTrackWrapper;\r\n\r\n\t\t\t\t\t\t$( trackWrapper ).remove();\r\n\t\t\t\t\t\ttrackWrapper = null;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( data.settings.horizontalScrolling ) {\r\n\t\t\t\t\t\ttrackWrapper = data.horizontalTrackWrapper;\r\n\r\n\t\t\t\t\t\t$( trackWrapper ).remove();\r\n\t\t\t\t\t\ttrackWrapper = null;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// clear the fade timer to prevent an error being thrown\r\n\t\t\t\t\t// when the plugin object is destroyed while the fading\r\n\t\t\t\t\t// scrollbar is visible - shoutout to gpurves\r\n\t\t\t\t\tif ( data._fadeTimer ) {\r\n\t\t\t\t\t\tclearTimeout( data._fadeTimer );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( data.corner ) {\r\n\t\t\t\t\t\t$( data.corner ).remove();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( data._prybar && data._prybar.parentNode && data._prybar.parentNode === this ) {\r\n\t\t\t\t\t\t$( data._prybar ).remove();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.setAttribute( 'style', data._style || '' );\r\n\r\n\t\t\t\t\tif ( !data._hadTabIndex ) {\r\n\t\t\t\t\t\t$this.removeAttr( 'tabindex' );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t$this\r\n\t\t\t\t\t\t.off( 'scroll.enscroll.pane' )\r\n\t\t\t\t\t\t.off( 'keydown.enscroll.pane' )\r\n\t\t\t\t\t\t.off( 'mouseenter.enscroll.pane' )\r\n\t\t\t\t\t\t.off( 'mousedown.enscroll.pane' )\r\n\t\t\t\t\t\t.data( 'enscroll', null );\r\n\r\n\t\t\t\t\tif ( this.removeEventListener ) {\r\n\t\t\t\t\t\tthis.removeEventListener( 'wheel', mouseScrollHandler, false );\r\n\t\t\t\t\t\tthis.removeEventListener( 'mousewheel', mouseScrollHandler, false );\r\n\t\t\t\t\t\tthis.removeEventListener( 'touchstart', touchStart, false );\r\n\t\t\t\t\t} else if ( this.detachEvent ) {\r\n\t\t\t\t\t\tthis.detachEvent( 'onmousewheel', mouseScrollHandler );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t$( win ).off( 'resize.enscroll.window' );\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\r\n\t$.fn.enscroll = function( opts ) {\r\n\r\n\t\tvar settings;\r\n\t\t// handle API method calls\r\n\t\tif ( api[opts] ) {\r\n\t\t\treturn api[opts].call( this );\r\n\t\t}\r\n\t\t// otherwise, initialize the enscroll element\r\n\r\n\t\t// use default settings, and overwrite defaults with options passed in\r\n\t\tsettings = $.extend( {}, defaultSettings, opts );\r\n\r\n\t\treturn this.each( function() {\r\n\r\n\t\t\t// don't apply this plugin when both scrolling settings are false\r\n\t\t\tif ( !settings.verticalScrolling && !settings.horizontalScrolling ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar $this = $( this ),\r\n\t\t\t\tpane = this,\r\n\t\t\t\toldStyle = $this.attr( 'style' ),\r\n\t\t\t\thadTabIndex = true,\r\n\t\t\t\thorizontalTrackWrapper, verticalTrackWrapper,\r\n\t\t\t\thorizontalTrack, verticalTrack,\r\n\t\t\t\thorizontalHandle, verticalHandle,\r\n\t\t\t\tverticalUpButton, verticalDownButton,\r\n\t\t\t\thorizontalLeftButton, horizontalRightButton,\r\n\t\t\t\ttrackHeight, trackWidth,\r\n\t\t\t\tcorner, outline, tabindex,\r\n\t\t\t\toutlineWidth, prybar, paddingSide,\r\n\t\t\t\ttrackWrapperCSS = {\r\n\t\t\t\t\t'position': 'absolute',\r\n\t\t\t\t\t'z-index': settings.zIndex,\r\n\t\t\t\t\t'margin': 0,\r\n\t\t\t\t\t'padding': 0\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// closures to bind events to handlers\r\n\t\t\t\tmouseScrollHandler = function( event ) {\r\n\t\t\t\t\tmouseScroll.call( pane, event );\r\n\t\t\t\t},\r\n\t\t\t\taddHandleHTML = function( handle, html ) {\r\n\t\t\t\t\tif ( typeof html === 'string' ) {\r\n\t\t\t\t\t\t$( handle ).html( html );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\thandle.appendChild( html );\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t// if we want vertical scrolling, create and initialize\r\n\t\t\t// the horizontal scrollbar and its components\r\n\t\t\tif ( settings.verticalScrolling ) {\r\n\t\t\t\tverticalTrackWrapper = doc.createElement( 'div' );\r\n\t\t\t\tverticalTrack = doc.createElement( 'div' );\r\n\t\t\t\tverticalHandle = doc.createElement( 'a' );\r\n\r\n\t\t\t\t$( verticalTrack )\r\n\t\t\t\t\t.css( 'position', 'relative' )\r\n\t\t\t\t\t.addClass( 'enscroll-track' )\r\n\t\t\t\t\t.addClass( settings.verticalTrackClass )\r\n\t\t\t\t\t.appendTo( verticalTrackWrapper );\r\n\r\n\t\t\t\tif ( settings.drawScrollButtons ) {\r\n\t\t\t\t\tverticalUpButton = doc.createElement( 'a' );\r\n\t\t\t\t\tverticalDownButton = doc.createElement( 'a' );\r\n\r\n\t\t\t\t\t$( verticalUpButton )\r\n\t\t\t\t\t\t.css({\r\n\t\t\t\t\t\t\t'display': 'block',\r\n\t\t\t\t\t\t\t'text-decoration': 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.attr( 'href', '' )\r\n\t\t\t\t\t\t.html( '&nbsp;' )\r\n\t\t\t\t\t\t.addClass( settings.scrollUpButtonClass )\r\n\t\t\t\t\t\t.on( 'click', function() {\r\n\t\t\t\t\t\t\tscrollVertical( pane, -settings.scrollIncrement );\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.insertBefore( verticalTrack );\r\n\r\n\t\t\t\t\t$( verticalDownButton )\r\n\t\t\t\t\t\t.css({\r\n\t\t\t\t\t\t\t'display': 'block',\r\n\t\t\t\t\t\t\t'text-decoration': 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.attr( 'href', '' )\r\n\t\t\t\t\t\t.html( '&nbsp;' )\r\n\t\t\t\t\t\t.on( 'click', function() {\r\n\t\t\t\t\t\t\tscrollVertical( pane, settings.scrollIncrement );\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.addClass( settings.scrollDownButtonClass )\r\n\t\t\t\t\t\t.appendTo( verticalTrackWrapper );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( settings.clickTrackToScroll ) {\r\n\t\t\t\t\t$( verticalTrack ).on( 'click', function( event ) {\r\n\t\t\t\t\t\tif ( event.target === this ) {\r\n\t\t\t\t\t\t\tscrollAnimateVertical( $this,\r\n\t\t\t\t\t\t\t\tevent.pageY > $( verticalHandle ).offset().top ? $this.height() :\r\n\t\t\t\t\t\t\t\t-$this.height() );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$( verticalHandle )\r\n\t\t\t\t\t.css({\r\n\t\t\t\t\t\t'position': 'absolute',\r\n\t\t\t\t\t\t'z-index': 1\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.attr( 'href', '' )\r\n\t\t\t\t\t.addClass( settings.verticalHandleClass )\r\n\t\t\t\t\t.mousedown( { pane: this }, startVerticalDrag )\r\n\t\t\t\t\t.click( function() { return false; })\r\n\t\t\t\t\t.appendTo( verticalTrack );\r\n\r\n\t\t\t\taddHandleHTML( verticalHandle, settings.verticalHandleHTML );\r\n\r\n\t\t\t\t$( verticalTrackWrapper )\r\n\t\t\t\t\t.css( trackWrapperCSS )\r\n\t\t\t\t\t.insertAfter( this );\r\n\r\n\t\t\t\tif ( settings.showOnHover ) {\r\n\t\t\t\t\t$( verticalTrackWrapper )\r\n\t\t\t\t\t\t.css( 'opacity', 0 )\r\n\t\t\t\t\t\t.on( 'mouseover.enscroll.vertical', function() {\r\n\t\t\t\t\t\t\tshowScrollbars.call( pane, false );\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.on( 'mouseout.enscroll.vertical', function() {\r\n\t\t\t\t\t\t\tshowScrollbars.call( pane );\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttrackWidth = $( verticalTrack ).outerWidth();\r\n\r\n\t\t\t\t// move the content in the pane over to make room for\r\n\t\t\t\t// the vertical scrollbar\r\n\t\t\t\tif ( settings.addPaddingToPane ) {\r\n\t\t\t\t\tif ( settings.verticalScrollerSide === 'right' ) {\r\n\t\t\t\t\t\tpaddingSide = {\r\n\t\t\t\t\t\t\t'padding-right': ( getComputedValue( this, 'padding-right' ) + trackWidth ) + 'px'\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tpaddingSide = {\r\n\t\t\t\t\t\t\t'padding-left': ( getComputedValue( this, 'padding-left' ) + trackWidth ) + 'px'\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t$this.css($.extend({\r\n\t\t\t\t\t\t'width': ( $this.width() - trackWidth ) + 'px'\r\n\t\t\t\t\t}, paddingSide));\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttry {\r\n\r\n\t\t\t\t\toutlineWidth = parseInt( $this.css( 'outline-width' ), 10 );\r\n\r\n\t\t\t\t\tif (( outlineWidth === 0 || isNaN( outlineWidth )) &&\r\n\t\t\t\t\t\t$this.css( 'outline-style') === 'none' ) {\r\n\t\t\t\t\t\t$this.css( 'outline', 'none' );\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch( ex ) {\r\n\t\t\t\t\t$this.css( 'outline', 'none' );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// if we want horizontal scrolling, create the elements for and\r\n\t\t\t// initialize the horizontal track and handle\r\n\t\t\tif ( settings.horizontalScrolling ) {\r\n\t\t\t\thorizontalTrackWrapper = doc.createElement( 'div' );\r\n\t\t\t\thorizontalTrack = doc.createElement( 'div' );\r\n\t\t\t\thorizontalHandle = doc.createElement( 'a' );\r\n\r\n\t\t\t\t$( horizontalTrack )\r\n\t\t\t\t\t.css({\r\n\t\t\t\t\t\t'position': 'relative',\r\n\t\t\t\t\t\t'z-index': 1\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.addClass( 'enscroll-track' )\r\n\t\t\t\t\t.addClass( settings.horizontalTrackClass )\r\n\t\t\t\t\t.appendTo( horizontalTrackWrapper );\r\n\r\n\t\t\t\tif ( settings.drawScrollButtons ) {\r\n\t\t\t\t\thorizontalLeftButton = doc.createElement( 'a' );\r\n\t\t\t\t\thorizontalRightButton = doc.createElement( 'a' );\r\n\r\n\t\t\t\t\t$( horizontalLeftButton )\r\n\t\t\t\t\t\t.css( 'display', 'block' )\r\n\t\t\t\t\t\t.attr( 'href', '' )\r\n\t\t\t\t\t\t.on( 'click', function() {\r\n\t\t\t\t\t\t\tscrollHorizontal( pane, -settings.scrollIncrement );\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.addClass( settings.scrollLeftButtonClass )\r\n\t\t\t\t\t\t.insertBefore( horizontalTrack );\r\n\r\n\t\t\t\t\t$( horizontalRightButton )\r\n\t\t\t\t\t\t.css( 'display', 'block' )\r\n\t\t\t\t\t\t.attr( 'href', '' )\r\n\t\t\t\t\t\t.on( 'click', function() {\r\n\t\t\t\t\t\t\tscrollHorizontal( pane, settings.scrollIncrement );\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.addClass( settings.scrollRightButtonClass )\r\n\t\t\t\t\t\t.appendTo( horizontalTrackWrapper );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( settings.clickTrackToScroll ) {\r\n\t\t\t\t\t$( horizontalTrack).on( 'click', function( event ) {\r\n\t\t\t\t\t\tif ( event.target === this ) {\r\n\t\t\t\t\t\t\tscrollAnimateHorizontal( $this,\r\n\t\t\t\t\t\t\t\tevent.pageX > $(horizontalHandle).offset().left ? $this.width() :\r\n\t\t\t\t\t\t\t\t-$this.width() );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$( horizontalHandle )\r\n\t\t\t\t\t.css({\r\n\t\t\t\t\t\t'position': 'absolute',\r\n\t\t\t\t\t\t'z-index': 1\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.attr( 'href', '' )\r\n\t\t\t\t\t.addClass( settings.horizontalHandleClass )\r\n\t\t\t\t\t.click( function() { return false; })\r\n\t\t\t\t\t.mousedown( { pane: this }, startHorizontalDrag )\r\n\t\t\t\t\t.appendTo( horizontalTrack );\r\n\r\n\t\t\t\taddHandleHTML( horizontalHandle, settings.horizontalHandleHTML );\r\n\r\n\t\t\t\t$( horizontalTrackWrapper )\r\n\t\t\t\t\t.css( trackWrapperCSS )\r\n\t\t\t\t\t.insertAfter( this );\r\n\r\n\t\t\t\tif ( settings.showOnHover ) {\r\n\t\t\t\t\t$( horizontalTrackWrapper )\r\n\t\t\t\t\t\t.css( 'opacity', 0 )\r\n\t\t\t\t\t\t.on( 'mouseover.enscroll.horizontal', function() {\r\n\t\t\t\t\t\t\tshowScrollbars.call( pane, false );\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.on( 'mouseout.enscroll.horizontal', function() {\r\n\t\t\t\t\t\t\tshowScrollbars.call( pane );\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttrackHeight = $( horizontalTrack ).outerHeight();\r\n\r\n\t\t\t\tif ( settings.addPaddingToPane ) {\r\n\t\t\t\t\t$this.css({\r\n\t\t\t\t\t\t'height': ( $this.height() - trackHeight ) + 'px',\r\n\t\t\t\t\t\t'padding-bottom': ( parseInt( $this.css( 'padding-bottom' ), 10 ) + trackHeight ) + 'px'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// we need to add an element to the pane in order to\r\n\t\t\t\t// stretch to the scrollWidth of the pane so the content\r\n\t\t\t\t// scrolls horizontally beyond the vertical scrollbar\r\n\t\t\t\tprybar = document.createElement( 'div' );\r\n\t\t\t\t$( prybar )\r\n\t\t\t\t\t.css({\r\n\t\t\t\t\t\t'width': '1px',\r\n\t\t\t\t\t\t'height': '1px',\r\n\t\t\t\t\t\t'visibility': 'hidden',\r\n\t\t\t\t\t\t'padding': 0,\r\n\t\t\t\t\t\t'margin': '-1px'\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.appendTo( this );\r\n\t\t\t}\r\n\r\n\t\t\tif ( settings.verticalScrolling && settings.horizontalScrolling && settings.drawCorner ) {\r\n\t\t\t\tcorner = doc.createElement( 'div' );\r\n\t\t\t\t$( corner )\r\n\t\t\t\t\t.addClass( settings.cornerClass )\r\n\t\t\t\t\t.css( trackWrapperCSS )\r\n\t\t\t\t\t.insertAfter( this );\r\n\t\t\t}\r\n\r\n\t\t\t// add a tabindex attribute to the pane if it doesn't already have one\r\n\t\t\t// if the element does not have a tabindex in IE6, undefined is returned,\r\n\t\t\t// all other browsers return an empty string\r\n\t\t\ttabindex = $this.attr( 'tabindex' );\r\n\t\t\tif ( !tabindex ) {\r\n\t\t\t\t$this.attr( 'tabindex', 0 );\r\n\t\t\t\thadTabIndex = false;\r\n\t\t\t}\r\n\r\n\t\t\t// if the outline style is not specified in IE6/7/8, null is returned\r\n\t\t\t// all other browsers return an empty string\r\n\t\t\ttry {\r\n\t\t\t\toutline = $this.css( 'outline' );\r\n\t\t\t\tif ( !outline || outline.length < 1 ) {\r\n\t\t\t\t\t$this.css( 'outline', 'none' );\r\n\t\t\t\t}\r\n\t\t\t} catch(ex) {\r\n\t\t\t\t$this.css( 'outline', 'none' );\r\n\t\t\t}\r\n\r\n\t\t\t// register an handler that listens for the pane to scroll, and\r\n\t\t\t// sync the scrollbars' positions\r\n\t\t\t$this\r\n\t\t\t\t.on({\r\n\t\t\t\t\t'scroll.enscroll.pane': function( event ) {\r\n\t\t\t\t\t\tpaneScrolled.call( this, event );\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'keydown.enscroll.pane': keyHandler,\r\n\t\t\t\t\t'mousedown.enscroll.pane': dragHandler\r\n\t\t\t\t})\r\n\t\t\t\t.css( 'overflow', 'hidden' )\r\n\t\t\t\t// store the data we need for handling events and destruction\r\n\t\t\t\t.data( 'enscroll', {\r\n\t\t\t\t\tsettings: settings,\r\n\t\t\t\t\thorizontalTrackWrapper: horizontalTrackWrapper,\r\n\t\t\t\t\tverticalTrackWrapper: verticalTrackWrapper,\r\n\t\t\t\t\tcorner: corner,\r\n\t\t\t\t\t_prybar: prybar,\r\n\t\t\t\t\t_mouseScrollHandler: mouseScrollHandler,\r\n\t\t\t\t\t_hadTabIndex: hadTabIndex,\r\n\t\t\t\t\t_style: oldStyle,\r\n\t\t\t\t\t_scrollingX: false,\r\n\t\t\t\t\t_scrollingY: false,\r\n\t\t\t\t\t_startX: 0,\r\n\t\t\t\t\t_startY: 0,\r\n\t\t\t\t\t_endX: 0,\r\n\t\t\t\t\t_endY: 0,\r\n\t\t\t\t\t_duration: parseInt( settings.easingDuration / 16.66666, 10 ),\r\n\t\t\t\t\t_scrollHeightNoPadding: testScrollHeight( this.nodeName )\r\n\t\t\t\t});\r\n\r\n\t\t\t// reposition the scrollbars if the window is resized\r\n\t\t\t$( win ).on( 'resize.enscroll.window', function() {\r\n\t\t\t\tapi.reposition.call( $this );\r\n\t\t\t});\r\n\r\n\t\t\t// if showOnHover is set, attach the hover listeners\r\n\t\t\tif ( settings.showOnHover ) {\r\n\t\t\t\t$this.on( 'mouseenter.enscroll.pane', function() {\r\n\t\t\t\t\tshowScrollbars.call( this );\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// listen for mouse wheel and touch events and scroll appropriately\r\n\t\t\tif ( this.addEventListener ) {\r\n\t\t\t\tif ( 'onwheel' in this || 'WheelEvent' in win &&\r\n\t\t\t\t\tnavigator.userAgent.toLowerCase().indexOf( 'msie' ) >= 0 ) {\r\n\t\t\t\t\tthis.addEventListener( 'wheel', mouseScrollHandler, false );\r\n\t\t\t\t} else if ( 'onmousewheel' in this ) {\r\n\t\t\t\t\tthis.addEventListener( 'mousewheel', mouseScrollHandler, false );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.addEventListener( 'touchstart', touchStart, false );\r\n\t\t\t} else if ( this.attachEvent ) {\r\n\t\t\t\t// oldie love\r\n\t\t\t\tthis.attachEvent( 'onmousewheel', mouseScrollHandler );\r\n\t\t\t}\r\n\r\n\t\t\t// start polling for changes in dimension and position\r\n\t\t\tif ( settings.pollChanges ) {\r\n\t\t\t\tapi.startPolling.call( $this );\r\n\t\t\t}\r\n\r\n\t\t\tapi.resize.call( $this );\r\n\t\t\tapi.reposition.call( $this );\r\n\r\n\t\t});\r\n\r\n\t};\r\n\r\n}( jQuery, window, document ));\r\n\n\n\n// WEBPACK FOOTER //\n// itcase_sphinx_theme/itcase/static/js/vendor/enscroll.js","// ==================================================\n// fancyBox v3.1.25\n//\n// Licensed GPLv3 for open source use\n// or fancyBox Commercial License for commercial use\n//\n// http://fancyapps.com/fancybox/\n// Copyright 2017 fancyApps\n//\n// ==================================================\n;(function (window, document, $, undefined) {\n    'use strict';\n\n    // If there's no jQuery, fancyBox can't work\n    // =========================================\n\n    if ( !$ ) {\n        return;\n    }\n\n    // Check if fancyBox is already initialized\n    // ========================================\n\n    if ( $.fn.fancybox ) {\n\n        $.error('fancyBox already initialized');\n\n        return;\n    }\n\n    // Private default settings\n    // ========================\n\n    var defaults = {\n\n        // Enable infinite gallery navigation\n        loop : false,\n\n        // Space around image, ignored if zoomed-in or viewport smaller than 800px\n        margin : [44, 0],\n\n        // Horizontal space between slides\n        gutter : 50,\n\n        // Enable keyboard navigation\n        keyboard : true,\n\n        // Should display navigation arrows at the screen edges\n        arrows : true,\n\n        // Should display infobar (counter and arrows at the top)\n        infobar : false,\n\n        // Should display toolbar (buttons at the top)\n        toolbar : true,\n\n        // What buttons should appear in the top right corner.\n        // Buttons will be created using templates from `btnTpl` option\n        // and they will be placed into toolbar (class=\"fancybox-toolbar\"` element)\n        buttons : [\n            'slideShow',\n            'fullScreen',\n            'thumbs',\n            'close'\n        ],\n\n        // Detect \"idle\" time in seconds\n        idleTime : 4,\n\n        // Should display buttons at top right corner of the content\n        // If 'auto' - they will be created for content having type 'html', 'inline' or 'ajax'\n        // Use template from `btnTpl.smallBtn` for customization\n        smallBtn : 'auto',\n\n        // Disable right-click and use simple image protection for images\n        protect : false,\n\n        // Shortcut to make content \"modal\" - disable keyboard navigtion, hide buttons, etc\n        modal : false,\n\n        image : {\n\n            // Wait for images to load before displaying\n            // Requires predefined image dimensions\n            // If 'auto' - will zoom in thumbnail if 'width' and 'height' attributes are found\n            preload : \"auto\",\n\n        },\n\n        ajax : {\n\n            // Object containing settings for ajax request\n            settings : {\n\n                // This helps to indicate that request comes from the modal\n                // Feel free to change naming\n                data : {\n                    fancybox : true\n                }\n            }\n\n        },\n\n        iframe : {\n\n            // Iframe template\n            tpl : '<iframe id=\"fancybox-frame{rnd}\" name=\"fancybox-frame{rnd}\" class=\"fancybox-iframe\" frameborder=\"0\" vspace=\"0\" hspace=\"0\" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency=\"true\" src=\"\"></iframe>',\n\n            // Preload iframe before displaying it\n            // This allows to calculate iframe content width and height\n            // (note: Due to \"Same Origin Policy\", you can't get cross domain data).\n            preload : true,\n\n            // Custom CSS styling for iframe wrapping element\n            // You can use this to set custom iframe dimensions\n            css : {},\n\n            // Iframe tag attributes\n            attr : {\n                scrolling : 'auto'\n            }\n\n        },\n\n        // Open/close animation type\n        // Possible values:\n        //   false            - disable\n        //   \"zoom\"           - zoom images from/to thumbnail\n        //   \"fade\"\n        //   \"zoom-in-out\"\n        //\n        animationEffect : \"zoom\",\n\n        // Duration in ms for open/close animation\n        animationDuration : 366,\n\n        // Should image change opacity while zooming\n        // If opacity is 'auto', then opacity will be changed if image and thumbnail have different aspect ratios\n        zoomOpacity : 'auto',\n\n        // Transition effect between slides\n        //\n        // Possible values:\n        //   false            - disable\n        //   \"fade'\n        //   \"slide'\n        //   \"circular'\n        //   \"tube'\n        //   \"zoom-in-out'\n        //   \"rotate'\n        //\n        transitionEffect : \"fade\",\n\n        // Duration in ms for transition animation\n        transitionDuration : 366,\n\n        // Custom CSS class for slide element\n        slideClass : '',\n\n        // Custom CSS class for layout\n        baseClass : '',\n\n        // Base template for layout\n        baseTpl\t:\n            '<div class=\"fancybox-container\" role=\"dialog\" tabindex=\"-1\">' +\n                '<div class=\"fancybox-bg\"></div>' +\n                '<div class=\"fancybox-inner\">' +\n                    '<div class=\"fancybox-infobar\">' +\n                        '<button data-fancybox-prev title=\"{{PREV}}\" class=\"fancybox-button fancybox-button--left\"></button>' +\n                        '<div class=\"fancybox-infobar__body\">' +\n                            '<span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span>' +\n                        '</div>' +\n                        '<button data-fancybox-next title=\"{{NEXT}}\" class=\"fancybox-button fancybox-button--right\"></button>' +\n                    '</div>' +\n                    '<div class=\"fancybox-toolbar\">' +\n                        '{{BUTTONS}}' +\n                    '</div>' +\n                    '<div class=\"fancybox-navigation\">' +\n                        '<button data-fancybox-prev title=\"{{PREV}}\" class=\"fancybox-arrow fancybox-arrow--left\" />' +\n                        '<button data-fancybox-next title=\"{{NEXT}}\" class=\"fancybox-arrow fancybox-arrow--right\" />' +\n                    '</div>' +\n                    '<div class=\"fancybox-stage\"></div>' +\n                    '<div class=\"fancybox-caption-wrap\">' +\n                        '<div class=\"fancybox-caption\"></div>' +\n                    '</div>' +\n                '</div>' +\n            '</div>',\n\n        // Loading indicator template\n        spinnerTpl : '<div class=\"fancybox-loading\"></div>',\n\n        // Error message template\n        errorTpl : '<div class=\"fancybox-error\"><p>{{ERROR}}<p></div>',\n\n        btnTpl : {\n            slideShow  : '<button data-fancybox-play class=\"fancybox-button fancybox-button--play\" title=\"{{PLAY_START}}\"></button>',\n            fullScreen : '<button data-fancybox-fullscreen class=\"fancybox-button fancybox-button--fullscreen\" title=\"{{FULL_SCREEN}}\"></button>',\n            thumbs     : '<button data-fancybox-thumbs class=\"fancybox-button fancybox-button--thumbs\" title=\"{{THUMBS}}\"></button>',\n            close      : '<button data-fancybox-close class=\"fancybox-button fancybox-button--close\" title=\"{{CLOSE}}\"></button>',\n\n            // This small close button will be appended to your html/inline/ajax content by default,\n            // if \"smallBtn\" option is not set to false\n            smallBtn   : '<button data-fancybox-close class=\"fancybox-close-small\" title=\"{{CLOSE}}\"></button>'\n        },\n\n        // Container is injected into this element\n        parentEl : 'body',\n\n\n        // Focus handling\n        // ==============\n\n        // Try to focus on the first focusable element after opening\n        autoFocus : true,\n\n        // Put focus back to active element after closing\n        backFocus : true,\n\n        // Do not let user to focus on element outside modal content\n        trapFocus : true,\n\n\n        // Module specific options\n        // =======================\n\n        fullScreen : {\n            autoStart : false,\n        },\n\n        touch : {\n            vertical : true,  // Allow to drag content vertically\n            momentum : true   // Continue movement after releasing mouse/touch when panning\n        },\n\n        // Hash value when initializing manually,\n        // set `false` to disable hash change\n        hash : null,\n\n        // Customize or add new media types\n        // Example:\n        /*\n        media : {\n            youtube : {\n                params : {\n                    autoplay : 0\n                }\n            }\n        }\n        */\n        media : {},\n\n        slideShow : {\n            autoStart : false,\n            speed     : 4000\n        },\n\n        thumbs : {\n            autoStart   : false,   // Display thumbnails on opening\n            hideOnClose : true     // Hide thumbnail grid when closing animation starts\n        },\n\n        // Callbacks\n        //==========\n\n        // See Documentation/API/Events for more information\n        // Example:\n        /*\n            afterShow: function( instance, current ) {\n                 console.info( 'Clicked element:' );\n                 console.info( current.opts.$orig );\n            }\n        */\n\n        onInit       : $.noop,  // When instance has been initialized\n\n        beforeLoad   : $.noop,  // Before the content of a slide is being loaded\n        afterLoad    : $.noop,  // When the content of a slide is done loading\n\n        beforeShow   : $.noop,  // Before open animation starts\n        afterShow    : $.noop,  // When content is done loading and animating\n\n        beforeClose  : $.noop,  // Before the instance attempts to close. Return false to cancel the close.\n        afterClose   : $.noop,  // After instance has been closed\n\n        onActivate   : $.noop,  // When instance is brought to front\n        onDeactivate : $.noop,  // When other instance has been activated\n\n\n        // Interaction\n        // ===========\n\n        // Use options below to customize taken action when user clicks or double clicks on the fancyBox area,\n        // each option can be string or method that returns value.\n        //\n        // Possible values:\n        //   \"close\"           - close instance\n        //   \"next\"            - move to next gallery item\n        //   \"nextOrClose\"     - move to next gallery item or close if gallery has only one item\n        //   \"toggleControls\"  - show/hide controls\n        //   \"zoom\"            - zoom image (if loaded)\n        //   false             - do nothing\n\n        // Clicked on the content\n        clickContent : function( current, event ) {\n            return current.type === 'image' ? 'zoom' : false;\n        },\n\n        // Clicked on the slide\n        clickSlide : 'close',\n\n        // Clicked on the background (backdrop) element\n        clickOutside : 'close',\n\n        // Same as previous two, but for double click\n        dblclickContent : false,\n        dblclickSlide   : false,\n        dblclickOutside : false,\n\n\n        // Custom options when mobile device is detected\n        // =============================================\n\n        mobile : {\n            clickContent : function( current, event ) {\n                return current.type === 'image' ? 'toggleControls' : false;\n            },\n            clickSlide : function( current, event ) {\n                return current.type === 'image' ? 'toggleControls' : \"close\";\n            },\n            dblclickContent : function( current, event ) {\n                return current.type === 'image' ? 'zoom' : false;\n            },\n            dblclickSlide : function( current, event ) {\n                return current.type === 'image' ? 'zoom' : false;\n            }\n        },\n\n\n        // Internationalization\n        // ============\n\n        lang : 'en',\n        i18n : {\n            'en' : {\n                CLOSE       : 'Close',\n                NEXT        : 'Next',\n                PREV        : 'Previous',\n                ERROR       : 'The requested content cannot be loaded. <br/> Please try again later.',\n                PLAY_START  : 'Start slideshow',\n                PLAY_STOP   : 'Pause slideshow',\n                FULL_SCREEN : 'Full screen',\n                THUMBS      : 'Thumbnails'\n            },\n            'de' : {\n                CLOSE       : 'Schliessen',\n                NEXT        : 'Weiter',\n                PREV        : 'Zurück',\n                ERROR       : 'Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es später nochmal.',\n                PLAY_START  : 'Diaschau starten',\n                PLAY_STOP   : 'Diaschau beenden',\n                FULL_SCREEN : 'Vollbild',\n                THUMBS      : 'Vorschaubilder'\n            }\n        }\n\n    };\n\n    // Few useful variables and methods\n    // ================================\n\n    var $W = $(window);\n    var $D = $(document);\n\n    var called = 0;\n\n\n    // Check if an object is a jQuery object and not a native JavaScript object\n    // ========================================================================\n\n    var isQuery = function ( obj ) {\n        return obj && obj.hasOwnProperty && obj instanceof $;\n    };\n\n\n    // Handle multiple browsers for \"requestAnimationFrame\" and \"cancelAnimationFrame\"\n    // ===============================================================================\n\n    var requestAFrame = (function () {\n        return window.requestAnimationFrame ||\n                window.webkitRequestAnimationFrame ||\n                window.mozRequestAnimationFrame ||\n                window.oRequestAnimationFrame ||\n                // if all else fails, use setTimeout\n                function (callback) {\n                    return window.setTimeout(callback, 1000 / 60);\n                };\n    })();\n\n\n    // Detect the supported transition-end event property name\n    // =======================================================\n\n    var transitionEnd = (function () {\n        var t, el = document.createElement(\"fakeelement\");\n\n        var transitions = {\n            \"transition\"      : \"transitionend\",\n            \"OTransition\"     : \"oTransitionEnd\",\n            \"MozTransition\"   : \"transitionend\",\n            \"WebkitTransition\": \"webkitTransitionEnd\"\n        };\n\n        for (t in transitions) {\n            if (el.style[t] !== undefined){\n                return transitions[t];\n            }\n        }\n    })();\n\n\n    // Force redraw on an element.\n    // This helps in cases where the browser doesn't redraw an updated element properly.\n    // =================================================================================\n\n    var forceRedraw = function( $el ) {\n        return ( $el && $el.length && $el[0].offsetHeight );\n    };\n\n\n    // Class definition\n    // ================\n\n    var FancyBox = function( content, opts, index ) {\n        var self = this;\n\n        self.opts  = $.extend( true, { index : index }, defaults, opts || {} );\n\n        // Exclude buttons option from deep merging\n        if ( opts && $.isArray( opts.buttons ) ) {\n            self.opts.buttons = opts.buttons;\n        }\n\n        self.id    = self.opts.id || ++called;\n        self.group = [];\n\n        self.currIndex = parseInt( self.opts.index, 10 ) || 0;\n        self.prevIndex = null;\n\n        self.prevPos = null;\n        self.currPos = 0;\n\n        self.firstRun = null;\n\n        // Create group elements from original item collection\n        self.createGroup( content );\n\n        if ( !self.group.length ) {\n            return;\n        }\n\n        // Save last active element and current scroll position\n        self.$lastFocus = $(document.activeElement).blur();\n\n        // Collection of gallery objects\n        self.slides = {};\n\n        self.init( content );\n\n    };\n\n    $.extend(FancyBox.prototype, {\n\n        // Create DOM structure\n        // ====================\n\n        init : function() {\n            var self = this;\n\n            var testWidth, $container, buttonStr;\n\n            var firstItemOpts = self.group[ self.currIndex ].opts;\n\n            self.scrollTop  = $D.scrollTop();\n            self.scrollLeft = $D.scrollLeft();\n\n\n            // Hide scrollbars\n            // ===============\n\n            if ( !$.fancybox.getInstance() && !$.fancybox.isMobile && $( 'body' ).css('overflow') !== 'hidden' ) {\n                testWidth = $( 'body' ).width();\n\n                $( 'html' ).addClass( 'fancybox-enabled' );\n\n                // Compare body width after applying \"overflow: hidden\"\n                testWidth = $( 'body' ).width() - testWidth;\n\n                // If width has changed - compensate missing scrollbars by adding right margin\n                if ( testWidth > 1 ) {\n                    $( 'head' ).append( '<style id=\"fancybox-style-noscroll\" type=\"text/css\">.compensate-for-scrollbar, .fancybox-enabled body { margin-right: ' + testWidth + 'px; }</style>' );\n                }\n            }\n\n\n            // Build html markup and set references\n            // ====================================\n\n            // Build html code for buttons and insert into main template\n            buttonStr = '';\n\n            $.each( firstItemOpts.buttons, function( index, value ) {\n                buttonStr += ( firstItemOpts.btnTpl[ value ] || '' );\n            });\n\n            // Create markup from base template, it will be initially hidden to\n            // avoid unnecessary work like painting while initializing is not complete\n            $container = $( self.translate( self, firstItemOpts.baseTpl.replace( '\\{\\{BUTTONS\\}\\}', buttonStr ) ) )\n                .addClass( 'fancybox-is-hidden' )\n                .attr('id', 'fancybox-container-' + self.id)\n                .addClass( firstItemOpts.baseClass )\n                .data( 'FancyBox', self )\n                .prependTo( firstItemOpts.parentEl );\n\n            // Create object holding references to jQuery wrapped nodes\n            self.$refs = {\n                container : $container\n            };\n\n            [ 'bg', 'inner', 'infobar', 'toolbar', 'stage', 'caption' ].forEach(function(item) {\n                self.$refs[ item ] = $container.find( '.fancybox-' + item );\n            });\n\n            // Check for redundant elements\n            if ( !firstItemOpts.arrows || self.group.length < 2 ) {\n                $container.find('.fancybox-navigation').remove();\n            }\n\n            if ( !firstItemOpts.infobar ) {\n                self.$refs.infobar.remove();\n            }\n\n            if ( !firstItemOpts.toolbar ) {\n                self.$refs.toolbar.remove();\n            }\n\n            self.trigger( 'onInit' );\n\n            // Bring to front and enable events\n            self.activate();\n\n            // Build slides, load and reveal content\n            self.jumpTo( self.currIndex );\n        },\n\n\n        // Simple i18n support - replaces object keys found in template\n        // with corresponding values\n        // ============================================================\n\n        translate : function( obj, str ) {\n            var arr = obj.opts.i18n[ obj.opts.lang ];\n\n            return str.replace(/\\{\\{(\\w+)\\}\\}/g, function(match, n) {\n                var value = arr[n];\n\n                if ( value === undefined ) {\n                    return match;\n                }\n\n                return value;\n            });\n        },\n\n        // Create array of gally item objects\n        // Check if each object has valid type and content\n        // ===============================================\n\n        createGroup : function ( content ) {\n            var self  = this;\n            var items = $.makeArray( content );\n\n            $.each(items, function( i, item ) {\n                var obj  = {},\n                    opts = {},\n                    data = [],\n                    $item,\n                    type,\n                    src,\n                    srcParts;\n\n                // Step 1 - Make sure we have an object\n                // ====================================\n\n                if ( $.isPlainObject( item ) ) {\n\n                    // We probably have manual usage here, something like\n                    // $.fancybox.open( [ { src : \"image.jpg\", type : \"image\" } ] )\n\n                    obj  = item;\n                    opts = item.opts || item;\n\n                } else if ( $.type( item ) === 'object' && $( item ).length ) {\n\n                    // Here we propbably have jQuery collection returned by some selector\n\n                    $item = $( item );\n                    data  = $item.data();\n\n                    opts = 'options' in data ? data.options : {};\n                    opts = $.type( opts ) === 'object' ? opts : {};\n\n                    obj.src  = 'src' in data ? data.src : ( opts.src || $item.attr( 'href' ) );\n\n                    [ 'width', 'height', 'thumb', 'type', 'filter' ].forEach(function(item) {\n                        if ( item in data ) {\n                            opts[ item ] = data[ item ];\n                        }\n                    });\n\n                    if ( 'srcset' in data ) {\n                        opts.image = { srcset : data.srcset };\n                    }\n\n                    opts.$orig = $item;\n\n                    if ( !obj.type && !obj.src ) {\n                        obj.type = 'inline';\n                        obj.src  = item;\n                    }\n\n                } else {\n\n                    // Assume we have a simple html code, for example:\n                    // $.fancybox.open( '<div><h1>Hi!</h1></div>' );\n\n                    obj = {\n                        type : 'html',\n                        src  : item + ''\n                    };\n\n                }\n\n                // Each gallery object has full collection of options\n                obj.opts = $.extend( true, {}, self.opts, opts );\n\n                if ( $.fancybox.isMobile ) {\n                    obj.opts = $.extend( true, {}, obj.opts, obj.opts.mobile );\n                }\n\n\n                // Step 2 - Make sure we have content type, if not - try to guess\n                // ==============================================================\n\n                type = obj.type || obj.opts.type;\n                src  = obj.src || '';\n\n                if ( !type && src ) {\n                    if ( src.match(/(^data:image\\/[a-z0-9+\\/=]*,)|(\\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\\?|#).*)?$)/i) ) {\n                        type = 'image';\n\n                    } else if ( src.match(/\\.(pdf)((\\?|#).*)?$/i) ) {\n                        type = 'pdf';\n\n                    } else if ( src.charAt(0) === '#' ) {\n                        type = 'inline';\n                    }\n                }\n\n                obj.type = type;\n\n\n                // Step 3 - Some adjustments\n                // =========================\n\n                obj.index = self.group.length;\n\n                // Check if $orig and $thumb objects exist\n                if ( obj.opts.$orig && !obj.opts.$orig.length ) {\n                    delete obj.opts.$orig;\n                }\n\n                if ( !obj.opts.$thumb && obj.opts.$orig ) {\n                    obj.opts.$thumb = obj.opts.$orig.find( 'img:first' );\n                }\n\n                if ( obj.opts.$thumb && !obj.opts.$thumb.length ) {\n                    delete obj.opts.$thumb;\n                }\n\n                // Caption is a \"special\" option, it can be passed as a method\n                if ( $.type( obj.opts.caption ) === 'function' ) {\n                    obj.opts.caption = obj.opts.caption.apply( item, [ self, obj ] );\n\n                } else if ( 'caption' in data ) {\n                    obj.opts.caption = data.caption;\n                }\n\n                // Make sure we have caption as a string\n                obj.opts.caption = obj.opts.caption === undefined ? '' : obj.opts.caption + '';\n\n                // Check if url contains \"filter\" used to filter the content\n                // Example: \"ajax.html #something\"\n                if ( type === 'ajax' ) {\n                    srcParts = src.split(/\\s+/, 2);\n\n                    if ( srcParts.length > 1 ) {\n                        obj.src = srcParts.shift();\n\n                        obj.opts.filter = srcParts.shift();\n                    }\n                }\n\n                if ( obj.opts.smallBtn == 'auto' ) {\n\n                    if ( $.inArray( type, ['html', 'inline', 'ajax'] ) > -1 ) {\n                        obj.opts.toolbar  = false;\n                        obj.opts.smallBtn = true;\n\n                    } else {\n                        obj.opts.smallBtn = false;\n                    }\n\n                }\n\n                // If the type is \"pdf\", then simply load file into iframe\n                if ( type === 'pdf' ) {\n                    obj.type = 'iframe';\n\n                    obj.opts.iframe.preload = false;\n                }\n\n                // Hide all buttons and disable interactivity for modal items\n                if ( obj.opts.modal ) {\n\n                    obj.opts = $.extend(true, obj.opts, {\n                        // Remove buttons\n                        infobar : 0,\n                        toolbar : 0,\n\n                        smallBtn : 0,\n\n                        // Disable keyboard navigation\n                        keyboard : 0,\n\n                        // Disable some modules\n                        slideShow  : 0,\n                        fullScreen : 0,\n                        thumbs     : 0,\n                        touch      : 0,\n\n                        // Disable click event handlers\n                        clickContent    : false,\n                        clickSlide      : false,\n                        clickOutside    : false,\n                        dblclickContent : false,\n                        dblclickSlide   : false,\n                        dblclickOutside : false\n                    });\n\n                }\n\n                // Step 4 - Add processed object to group\n                // ======================================\n\n                self.group.push( obj );\n\n            });\n\n        },\n\n\n        // Attach an event handler functions for:\n        //   - navigation buttons\n        //   - browser scrolling, resizing;\n        //   - focusing\n        //   - keyboard\n        //   - detect idle\n        // ======================================\n\n        addEvents : function() {\n            var self = this;\n\n            self.removeEvents();\n\n            // Make navigation elements clickable\n            self.$refs.container.on('click.fb-close', '[data-fancybox-close]', function(e) {\n                e.stopPropagation();\n                e.preventDefault();\n\n                self.close( e );\n\n            }).on( 'click.fb-prev touchend.fb-prev', '[data-fancybox-prev]', function(e) {\n                e.stopPropagation();\n                e.preventDefault();\n\n                self.previous();\n\n            }).on( 'click.fb-next touchend.fb-next', '[data-fancybox-next]', function(e) {\n                e.stopPropagation();\n                e.preventDefault();\n\n                self.next();\n\n            });\n\n\n            // Handle page scrolling and browser resizing\n            $W.on('orientationchange.fb resize.fb', function(e) {\n\n                if ( e && e.originalEvent && e.originalEvent.type === \"resize\" ) {\n\n                    requestAFrame(function() {\n                        self.update();\n                    });\n\n                } else {\n\n                    self.$refs.stage.hide();\n\n                    setTimeout(function() {\n                        self.$refs.stage.show();\n\n                        self.update();\n                    }, 500);\n\n                }\n\n            });\n\n            // Trap keyboard focus inside of the modal, so the user does not accidentally tab outside of the modal\n            // (a.k.a. \"escaping the modal\")\n            $D.on('focusin.fb', function(e) {\n                var instance = $.fancybox ? $.fancybox.getInstance() : null;\n\n                if ( instance.isClosing || !instance.current || !instance.current.opts.trapFocus || $( e.target ).hasClass( 'fancybox-container' ) || $( e.target ).is( document ) ) {\n                    return;\n                }\n\n                if ( instance && $( e.target ).css( 'position' ) !== 'fixed' && !instance.$refs.container.has( e.target ).length ) {\n                    e.stopPropagation();\n\n                    instance.focus();\n\n                    // Sometimes page gets scrolled, set it back\n                    $W.scrollTop( self.scrollTop ).scrollLeft( self.scrollLeft );\n                }\n            });\n\n\n            // Enable keyboard navigation\n            $D.on('keydown.fb', function (e) {\n                var current = self.current,\n                    keycode = e.keyCode || e.which;\n\n                if ( !current || !current.opts.keyboard ) {\n                    return;\n                }\n\n                if ( $(e.target).is('input') || $(e.target).is('textarea') ) {\n                    return;\n                }\n\n                // Backspace and Esc keys\n                if ( keycode === 8 || keycode === 27 ) {\n                    e.preventDefault();\n\n                    self.close( e );\n\n                    return;\n                }\n\n                // Left arrow and Up arrow\n                if ( keycode === 37 || keycode === 38 ) {\n                    e.preventDefault();\n\n                    self.previous();\n\n                    return;\n                }\n\n                // Righ arrow and Down arrow\n                if ( keycode === 39 || keycode === 40 ) {\n                    e.preventDefault();\n\n                    self.next();\n\n                    return;\n                }\n\n                self.trigger('afterKeydown', e, keycode);\n            });\n\n\n            // Hide controls after some inactivity period\n            if ( self.group[ self.currIndex ].opts.idleTime ) {\n                self.idleSecondsCounter = 0;\n\n                $D.on('mousemove.fb-idle mouseenter.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle', function() {\n                    self.idleSecondsCounter = 0;\n\n                    if ( self.isIdle ) {\n                        self.showControls();\n                    }\n\n                    self.isIdle = false;\n                });\n\n                self.idleInterval = window.setInterval(function() {\n\n                    self.idleSecondsCounter++;\n\n                    if ( self.idleSecondsCounter >= self.group[ self.currIndex ].opts.idleTime ) {\n                        self.isIdle = true;\n                        self.idleSecondsCounter = 0;\n\n                        self.hideControls();\n                    }\n\n                }, 1000);\n            }\n\n        },\n\n\n        // Remove events added by the core\n        // ===============================\n\n        removeEvents : function () {\n            var self = this;\n\n            $W.off( 'orientationchange.fb resize.fb' );\n            $D.off( 'focusin.fb keydown.fb .fb-idle' );\n\n            this.$refs.container.off( '.fb-close .fb-prev .fb-next' );\n\n            if ( self.idleInterval ) {\n                window.clearInterval( self.idleInterval );\n\n                self.idleInterval = null;\n            }\n        },\n\n\n        // Change to previous gallery item\n        // ===============================\n\n        previous : function( duration ) {\n            return this.jumpTo( this.currPos - 1, duration );\n        },\n\n\n        // Change to next gallery item\n        // ===========================\n\n        next : function( duration ) {\n            return this.jumpTo( this.currPos + 1, duration );\n        },\n\n\n        // Switch to selected gallery item\n        // ===============================\n\n        jumpTo : function ( pos, duration, slide ) {\n            var self = this,\n                firstRun,\n                loop,\n                current,\n                previous,\n                canvasWidth,\n                currentPos,\n                transitionProps;\n\n            var groupLen = self.group.length;\n\n            if ( self.isSliding || self.isClosing || ( self.isAnimating && self.firstRun ) ) {\n                return;\n            }\n\n            pos  = parseInt( pos, 10 );\n            loop = self.current ? self.current.opts.loop : self.opts.loop;\n\n            if ( !loop && ( pos < 0 || pos >= groupLen ) ) {\n                return false;\n            }\n\n            firstRun = self.firstRun = ( self.firstRun === null );\n\n            if ( groupLen < 2 && !firstRun && !!self.isSliding ) {\n                return;\n            }\n\n            previous = self.current;\n\n            self.prevIndex = self.currIndex;\n            self.prevPos   = self.currPos;\n\n            // Create slides\n            current = self.createSlide( pos );\n\n            if ( groupLen > 1 ) {\n                if ( loop || current.index > 0 ) {\n                    self.createSlide( pos - 1 );\n                }\n\n                if ( loop || current.index < groupLen - 1 ) {\n                    self.createSlide( pos + 1 );\n                }\n            }\n\n            self.current   = current;\n            self.currIndex = current.index;\n            self.currPos   = current.pos;\n\n            self.trigger( 'beforeShow', firstRun );\n\n            self.updateControls();\n\n            currentPos = $.fancybox.getTranslate( current.$slide );\n\n            current.isMoved        = ( currentPos.left !== 0 || currentPos.top !== 0 ) && !current.$slide.hasClass( 'fancybox-animated' );\n            current.forcedDuration = undefined;\n\n            if ( $.isNumeric( duration ) ) {\n                current.forcedDuration = duration;\n            } else {\n                duration = current.opts[ firstRun ? 'animationDuration' : 'transitionDuration' ];\n            }\n\n            duration = parseInt( duration, 10 );\n\n            // Fresh start - reveal container, current slide and start loading content\n            if ( firstRun ) {\n\n                if ( current.opts.animationEffect && duration ) {\n                    self.$refs.container.css( 'transition-duration', duration + 'ms' );\n                }\n\n                self.$refs.container.removeClass( 'fancybox-is-hidden' );\n\n                forceRedraw( self.$refs.container );\n\n                self.$refs.container.addClass( 'fancybox-is-open' );\n\n                // Make first slide visible (to display loading icon, if needed)\n                current.$slide.addClass( 'fancybox-slide--current' );\n\n                self.loadSlide( current );\n\n                self.preload();\n\n                return;\n            }\n\n            // Clean up\n            $.each(self.slides, function( index, slide ) {\n                $.fancybox.stop( slide.$slide );\n            });\n\n            // Make current that slide is visible even if content is still loading\n            current.$slide.removeClass( 'fancybox-slide--next fancybox-slide--previous' ).addClass( 'fancybox-slide--current' );\n\n            // If slides have been dragged, animate them to correct position\n            if ( current.isMoved ) {\n                canvasWidth = Math.round( current.$slide.width() );\n\n                $.each(self.slides, function( index, slide ) {\n                    var pos = slide.pos - current.pos;\n\n                    $.fancybox.animate( slide.$slide, {\n                        top  : 0,\n                        left : ( pos * canvasWidth ) + ( pos * slide.opts.gutter )\n                    }, duration, function() {\n\n                        slide.$slide.removeAttr('style').removeClass( 'fancybox-slide--next fancybox-slide--previous' );\n\n                        if ( slide.pos === self.currPos ) {\n                            current.isMoved = false;\n\n                            self.complete();\n                        }\n                    });\n                });\n\n            } else {\n                self.$refs.stage.children().removeAttr( 'style' );\n            }\n\n            // Start transition that reveals current content\n            // or wait when it will be loaded\n\n            if ( current.isLoaded ) {\n                self.revealContent( current );\n\n            } else {\n                self.loadSlide( current );\n            }\n\n            self.preload();\n\n            if ( previous.pos === current.pos ) {\n                return;\n            }\n\n            // Handle previous slide\n            // =====================\n\n            transitionProps = 'fancybox-slide--' + ( previous.pos > current.pos ? 'next' : 'previous' );\n\n            previous.$slide.removeClass( 'fancybox-slide--complete fancybox-slide--current fancybox-slide--next fancybox-slide--previous' );\n\n            previous.isComplete = false;\n\n            if ( !duration || ( !current.isMoved && !current.opts.transitionEffect ) ) {\n                return;\n            }\n\n            if ( current.isMoved ) {\n                previous.$slide.addClass( transitionProps );\n\n            } else {\n\n                transitionProps = 'fancybox-animated ' + transitionProps + ' fancybox-fx-' + current.opts.transitionEffect;\n\n                $.fancybox.animate( previous.$slide, transitionProps, duration, function() {\n                    previous.$slide.removeClass( transitionProps ).removeAttr( 'style' );\n                });\n\n            }\n\n        },\n\n\n        // Create new \"slide\" element\n        // These are gallery items  that are actually added to DOM\n        // =======================================================\n\n        createSlide : function( pos ) {\n\n            var self = this;\n            var $slide;\n            var index;\n\n            index = pos % self.group.length;\n            index = index < 0 ? self.group.length + index : index;\n\n            if ( !self.slides[ pos ] && self.group[ index ] ) {\n                $slide = $('<div class=\"fancybox-slide\"></div>').appendTo( self.$refs.stage );\n\n                self.slides[ pos ] = $.extend( true, {}, self.group[ index ], {\n                    pos      : pos,\n                    $slide   : $slide,\n                    isLoaded : false,\n                });\n\n                self.updateSlide( self.slides[ pos ] );\n            }\n\n            return self.slides[ pos ];\n        },\n\n\n        // Scale image to the actual size of the image\n        // ===========================================\n\n        scaleToActual : function( x, y, duration ) {\n\n            var self = this;\n\n            var current = self.current;\n            var $what   = current.$content;\n\n            var imgPos, posX, posY, scaleX, scaleY;\n\n            var canvasWidth  = parseInt( current.$slide.width(), 10 );\n            var canvasHeight = parseInt( current.$slide.height(), 10 );\n\n            var newImgWidth  = current.width;\n            var newImgHeight = current.height;\n\n            if ( !( current.type == 'image' && !current.hasError) || !$what || self.isAnimating) {\n                return;\n            }\n\n            $.fancybox.stop( $what );\n\n            self.isAnimating = true;\n\n            x = x === undefined ? canvasWidth  * 0.5  : x;\n            y = y === undefined ? canvasHeight * 0.5  : y;\n\n            imgPos = $.fancybox.getTranslate( $what );\n\n            scaleX  = newImgWidth  / imgPos.width;\n            scaleY  = newImgHeight / imgPos.height;\n\n            // Get center position for original image\n            posX = ( canvasWidth * 0.5  - newImgWidth * 0.5 );\n            posY = ( canvasHeight * 0.5 - newImgHeight * 0.5 );\n\n            // Make sure image does not move away from edges\n            if ( newImgWidth > canvasWidth ) {\n                posX = imgPos.left * scaleX - ( ( x * scaleX ) - x );\n\n                if ( posX > 0 ) {\n                    posX = 0;\n                }\n\n                if ( posX <  canvasWidth - newImgWidth ) {\n                    posX = canvasWidth - newImgWidth;\n                }\n            }\n\n            if ( newImgHeight > canvasHeight) {\n                posY = imgPos.top  * scaleY - ( ( y * scaleY ) - y );\n\n                if ( posY > 0 ) {\n                    posY = 0;\n                }\n\n                if ( posY <  canvasHeight - newImgHeight ) {\n                    posY = canvasHeight - newImgHeight;\n                }\n            }\n\n            self.updateCursor( newImgWidth, newImgHeight );\n\n            $.fancybox.animate( $what, {\n                top    : posY,\n                left   : posX,\n                scaleX : scaleX,\n                scaleY : scaleY\n            }, duration || 330, function() {\n                self.isAnimating = false;\n            });\n\n            // Stop slideshow\n            if ( self.SlideShow && self.SlideShow.isActive ) {\n                self.SlideShow.stop();\n            }\n        },\n\n\n        // Scale image to fit inside parent element\n        // ========================================\n\n        scaleToFit : function( duration ) {\n\n            var self = this;\n\n            var current = self.current;\n            var $what   = current.$content;\n            var end;\n\n            if ( !( current.type == 'image' && !current.hasError) || !$what || self.isAnimating ) {\n                return;\n            }\n\n            $.fancybox.stop( $what );\n\n            self.isAnimating = true;\n\n            end = self.getFitPos( current );\n\n            self.updateCursor( end.width, end.height );\n\n            $.fancybox.animate( $what, {\n                top    : end.top,\n                left   : end.left,\n                scaleX : end.width  / $what.width(),\n                scaleY : end.height / $what.height()\n            }, duration || 330, function() {\n                self.isAnimating = false;\n            });\n\n        },\n\n        // Calculate image size to fit inside viewport\n        // ===========================================\n\n        getFitPos : function( slide ) {\n            var self  = this;\n            var $what = slide.$content;\n\n            var imgWidth  = slide.width;\n            var imgHeight = slide.height;\n\n            var margin = slide.opts.margin;\n\n            var canvasWidth, canvasHeight, minRatio, width, height;\n\n            if ( !$what || !$what.length || ( !imgWidth && !imgHeight) ) {\n                return false;\n            }\n\n            // Convert \"margin to CSS style: [ top, right, bottom, left ]\n            if ( $.type( margin ) === \"number\" ) {\n                margin = [ margin, margin ];\n            }\n\n            if ( margin.length == 2 ) {\n                margin = [ margin[0], margin[1], margin[0], margin[1] ];\n            }\n\n            if ( $W.width() < 800 ) {\n                margin = [ 0, 0, 0, 0 ];\n            }\n\n            // We can not use $slide width here, because it can have different diemensions while in transiton\n            canvasWidth  = parseInt( self.$refs.stage.width(), 10 )  - ( margin[ 1 ] + margin[ 3 ] );\n            canvasHeight = parseInt( self.$refs.stage.height(), 10 ) - ( margin[ 0 ] + margin[ 2 ] );\n\n            minRatio = Math.min(1, canvasWidth / imgWidth, canvasHeight / imgHeight );\n\n            width  = Math.floor( minRatio * imgWidth );\n            height = Math.floor( minRatio * imgHeight );\n\n            // Use floor rounding to make sure it really fits\n            return {\n                top    : Math.floor( ( canvasHeight - height ) * 0.5 ) + margin[ 0 ],\n                left   : Math.floor( ( canvasWidth  - width )  * 0.5 ) + margin[ 3 ],\n                width  : width,\n                height : height\n            };\n\n        },\n\n\n        // Update position and content of all slides\n        // =========================================\n\n        update : function() {\n\n            var self = this;\n\n            $.each( self.slides, function( key, slide ) {\n                self.updateSlide( slide );\n            });\n\n        },\n\n\n        // Update slide position and scale content to fit\n        // ==============================================\n\n        updateSlide : function( slide ) {\n\n            var self  = this;\n            var $what = slide.$content;\n\n            if ( $what && ( slide.width || slide.height ) ) {\n                $.fancybox.stop( $what );\n\n                $.fancybox.setTranslate( $what, self.getFitPos( slide ) );\n\n                if ( slide.pos === self.currPos ) {\n                    self.updateCursor();\n                }\n            }\n\n            slide.$slide.trigger( 'refresh' );\n\n            self.trigger( 'onUpdate', slide );\n\n        },\n\n        // Update cursor style depending if content can be zoomed\n        // ======================================================\n\n        updateCursor : function( nextWidth, nextHeight ) {\n\n            var self = this;\n            var isScaledDown;\n\n            var $container = self.$refs.container.removeClass('fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-drag fancybox-can-zoomOut');\n\n            if ( !self.current || self.isClosing ) {\n                return;\n            }\n\n            if ( self.isZoomable() ) {\n\n                $container.addClass( 'fancybox-is-zoomable' );\n\n                if ( nextWidth !== undefined && nextHeight !== undefined ) {\n                    isScaledDown = nextWidth < self.current.width && nextHeight < self.current.height;\n\n                } else {\n                    isScaledDown = self.isScaledDown();\n                }\n\n                if ( isScaledDown ) {\n\n                    // If image is scaled down, then, obviously, it can be zoomed to full size\n                    $container.addClass('fancybox-can-zoomIn');\n\n                } else {\n\n                    if ( self.current.opts.touch ) {\n\n                        // If image size ir largen than available available and touch module is not disable,\n                        // then user can do panning\n                        $container.addClass('fancybox-can-drag');\n\n                    } else {\n                        $container.addClass('fancybox-can-zoomOut');\n                    }\n\n                }\n\n            } else if ( self.current.opts.touch ) {\n                $container.addClass('fancybox-can-drag');\n            }\n\n        },\n\n\n        // Check if current slide is zoomable\n        // ==================================\n\n        isZoomable : function() {\n\n            var self = this;\n\n            var current = self.current;\n            var fitPos;\n\n            if ( !current || self.isClosing ) {\n                return;\n            }\n\n            // Assume that slide is zoomable if\n            //   - image is loaded successfuly\n            //   - click action is \"zoom\"\n            //   - actual size of the image is smaller than available area\n            if ( current.type === 'image' && current.isLoaded && !current.hasError &&\n                ( current.opts.clickContent === 'zoom' || ( $.isFunction( current.opts.clickContent ) && current.opts.clickContent( current ) ===  \"zoom\" ) )\n            ) {\n\n                fitPos = self.getFitPos( current );\n\n                if ( current.width > fitPos.width || current.height > fitPos.height ) {\n                    return true;\n                }\n\n            }\n\n            return false;\n\n        },\n\n\n        // Check if current image dimensions are smaller than actual\n        // =========================================================\n\n        isScaledDown : function() {\n\n            var self = this;\n\n            var current = self.current;\n            var $what   = current.$content;\n\n            var rez = false;\n\n            if ( $what ) {\n                rez = $.fancybox.getTranslate( $what );\n                rez = rez.width < current.width || rez.height < current.height;\n            }\n\n            return rez;\n\n        },\n\n\n        // Check if image dimensions exceed parent element\n        // ===============================================\n\n        canPan : function() {\n\n            var self = this;\n\n            var current = self.current;\n            var $what   = current.$content;\n\n            var rez = false;\n\n            if ( $what ) {\n                rez = self.getFitPos( current );\n                rez = Math.abs( $what.width() - rez.width ) > 1  || Math.abs( $what.height() - rez.height ) > 1;\n\n            }\n\n            return rez;\n\n        },\n\n\n        // Load content into the slide\n        // ===========================\n\n        loadSlide : function( slide ) {\n\n            var self = this, type, $slide;\n            var ajaxLoad;\n\n            if ( slide.isLoading ) {\n                return;\n            }\n\n            if ( slide.isLoaded ) {\n                return;\n            }\n\n            slide.isLoading = true;\n\n            self.trigger( 'beforeLoad', slide );\n\n            type   = slide.type;\n            $slide = slide.$slide;\n\n            $slide\n                .off( 'refresh' )\n                .trigger( 'onReset' )\n                .addClass( 'fancybox-slide--' + ( type || 'unknown' ) )\n                .addClass( slide.opts.slideClass );\n\n            // Create content depending on the type\n\n            switch ( type ) {\n\n                case 'image':\n\n                    self.setImage( slide );\n\n                break;\n\n                case 'iframe':\n\n                    self.setIframe( slide );\n\n                break;\n\n                case 'html':\n\n                    self.setContent( slide, slide.src || slide.content );\n\n                break;\n\n                case 'inline':\n\n                    if ( $( slide.src ).length ) {\n                        self.setContent( slide, $( slide.src ) );\n\n                    } else {\n                        self.setError( slide );\n                    }\n\n                break;\n\n                case 'ajax':\n\n                    self.showLoading( slide );\n\n                    ajaxLoad = $.ajax( $.extend( {}, slide.opts.ajax.settings, {\n                        url : slide.src,\n                        success : function ( data, textStatus ) {\n\n                            if ( textStatus === 'success' ) {\n                                self.setContent( slide, data );\n                            }\n\n                        },\n                        error : function ( jqXHR, textStatus ) {\n\n                            if ( jqXHR && textStatus !== 'abort' ) {\n                                self.setError( slide );\n                            }\n\n                        }\n                    }));\n\n                    $slide.one( 'onReset', function () {\n                        ajaxLoad.abort();\n                    });\n\n                break;\n\n                default:\n\n                    self.setError( slide );\n\n                break;\n\n            }\n\n            return true;\n\n        },\n\n\n        // Use thumbnail image, if possible\n        // ================================\n\n        setImage : function( slide ) {\n\n            var self   = this;\n            var srcset = slide.opts.image.srcset;\n\n            var found, temp, pxRatio, windowWidth;\n\n            // If we have \"srcset\", then we need to find matching \"src\" value.\n            // This is necessary, because when you set an src attribute, the browser will preload the image\n            // before any javascript or even CSS is applied.\n            if ( srcset ) {\n                pxRatio     = window.devicePixelRatio || 1;\n                windowWidth = window.innerWidth  * pxRatio;\n\n                temp = srcset.split(',').map(function ( el ) {\n            \t\tvar ret = {};\n\n            \t\tel.trim().split(/\\s+/).forEach(function ( el, i ) {\n                        var value = parseInt( el.substring(0, el.length - 1), 10 );\n\n            \t\t\tif ( i === 0 ) {\n            \t\t\t\treturn ( ret.url = el );\n            \t\t\t}\n\n                        if ( value ) {\n                            ret.value   = value;\n                            ret.postfix = el[ el.length - 1 ];\n                        }\n\n            \t\t});\n\n            \t\treturn ret;\n            \t});\n\n                // Sort by value\n                temp.sort(function (a, b) {\n                  return a.value - b.value;\n                });\n\n                // Ok, now we have an array of all srcset values\n                for ( var j = 0; j < temp.length; j++ ) {\n                    var el = temp[ j ];\n\n                    if ( ( el.postfix === 'w' && el.value >= windowWidth ) || ( el.postfix === 'x' && el.value >= pxRatio ) ) {\n                        found = el;\n                        break;\n                    }\n                }\n\n                // If not found, take the last one\n                if ( !found && temp.length ) {\n                    found = temp[ temp.length - 1 ];\n                }\n\n                if ( found ) {\n                    slide.src = found.url;\n\n                    // If we have default width/height values, we can calculate height for matching source\n                    if ( slide.width && slide.height && found.postfix == 'w' ) {\n                        slide.height = ( slide.width / slide.height ) * found.value;\n                        slide.width  = found.value;\n                    }\n                }\n            }\n\n            // This will be wrapper containing both ghost and actual image\n            slide.$content = $('<div class=\"fancybox-image-wrap\"></div>')\n                .addClass( 'fancybox-is-hidden' )\n                .appendTo( slide.$slide );\n\n\n            // If we have a thumbnail, we can display it while actual image is loading\n            // Users will not stare at black screen and actual image will appear gradually\n            if ( slide.opts.preload !== false && slide.opts.width && slide.opts.height && ( slide.opts.thumb || slide.opts.$thumb ) ) {\n\n                slide.width  = slide.opts.width;\n                slide.height = slide.opts.height;\n\n                slide.$ghost = $('<img />')\n                    .one('error', function() {\n\n                        $(this).remove();\n\n                        slide.$ghost = null;\n\n                        self.setBigImage( slide );\n\n                    })\n                    .one('load', function() {\n\n                        self.afterLoad( slide );\n\n                        self.setBigImage( slide );\n\n                    })\n                    .addClass( 'fancybox-image' )\n                    .appendTo( slide.$content )\n                    .attr( 'src', slide.opts.thumb || slide.opts.$thumb.attr( 'src' ) );\n\n            } else {\n\n                self.setBigImage( slide );\n\n            }\n\n        },\n\n\n        // Create full-size image\n        // ======================\n\n        setBigImage : function ( slide ) {\n            var self = this;\n            var $img = $('<img />');\n\n            slide.$image = $img\n                .one('error', function() {\n\n                    self.setError( slide );\n\n                })\n                .one('load', function() {\n\n                    // Clear timeout that checks if loading icon needs to be displayed\n                    clearTimeout( slide.timouts );\n\n                    slide.timouts = null;\n\n                    if ( self.isClosing ) {\n                        return;\n                    }\n\n                    slide.width  = this.naturalWidth;\n                    slide.height = this.naturalHeight;\n\n                    if ( slide.opts.image.srcset ) {\n                        $img.attr( 'sizes', '100vw' ).attr( 'srcset', slide.opts.image.srcset );\n                    }\n\n                    self.hideLoading( slide );\n\n                    if ( slide.$ghost ) {\n\n                        slide.timouts = setTimeout(function() {\n                            slide.timouts = null;\n\n                            slide.$ghost.hide();\n\n                        }, Math.min( 300, Math.max( 1000, slide.height / 1600 ) ) );\n\n                    } else {\n                        self.afterLoad( slide );\n                    }\n\n                })\n                .addClass( 'fancybox-image' )\n                .attr('src', slide.src)\n                .appendTo( slide.$content );\n\n            if ( $img[0].complete ) {\n                  $img.trigger( 'load' );\n\n            } else if( $img[0].error ) {\n                 $img.trigger( 'error' );\n\n            } else {\n\n                slide.timouts = setTimeout(function() {\n                    if ( !$img[0].complete && !slide.hasError ) {\n                        self.showLoading( slide );\n                    }\n\n                }, 100);\n\n            }\n\n        },\n\n\n        // Create iframe wrapper, iframe and bindings\n        // ==========================================\n\n        setIframe : function( slide ) {\n            var self\t= this,\n                opts    = slide.opts.iframe,\n                $slide\t= slide.$slide,\n                $iframe;\n\n            slide.$content = $('<div class=\"fancybox-content' + ( opts.preload ? ' fancybox-is-hidden' : '' ) + '\"></div>')\n                .css( opts.css )\n                .appendTo( $slide );\n\n            $iframe = $( opts.tpl.replace(/\\{rnd\\}/g, new Date().getTime()) )\n                .attr( opts.attr )\n                .appendTo( slide.$content );\n\n            if ( opts.preload ) {\n\n                self.showLoading( slide );\n\n                // Unfortunately, it is not always possible to determine if iframe is successfully loaded\n                // (due to browser security policy)\n\n                $iframe.on('load.fb error.fb', function(e) {\n                    this.isReady = 1;\n\n                    slide.$slide.trigger( 'refresh' );\n\n                    self.afterLoad( slide );\n                });\n\n                // Recalculate iframe content size\n                // ===============================\n\n                $slide.on('refresh.fb', function() {\n                    var $wrap = slide.$content,\n                        $contents,\n                        $body,\n                        scrollWidth,\n                        frameWidth,\n                        frameHeight;\n\n                    if ( $iframe[0].isReady !== 1 ) {\n                        return;\n                    }\n\n                    // Check if content is accessible,\n                    // it will fail if frame is not with the same origin\n\n                    try {\n                        $contents = $iframe.contents();\n                        $body     = $contents.find('body');\n\n                    } catch (ignore) {}\n\n                    // Calculate dimensions for the wrapper\n                    if ( $body && $body.length && !( opts.css.width !== undefined && opts.css.height !== undefined ) ) {\n\n                        scrollWidth = $iframe[0].contentWindow.document.documentElement.scrollWidth;\n\n                        frameWidth\t= Math.ceil( $body.outerWidth(true) + ( $wrap.width() - scrollWidth ) );\n                        frameHeight\t= Math.ceil( $body.outerHeight(true) );\n\n                        // Resize wrapper to fit iframe content\n                        $wrap.css({\n                            'width'  : opts.css.width  === undefined ? frameWidth  + ( $wrap.outerWidth()  - $wrap.innerWidth() )  : opts.css.width,\n                            'height' : opts.css.height === undefined ? frameHeight + ( $wrap.outerHeight() - $wrap.innerHeight() ) : opts.css.height\n                        });\n\n                    }\n\n                    $wrap.removeClass( 'fancybox-is-hidden' );\n\n                });\n\n            } else {\n\n                this.afterLoad( slide );\n\n            }\n\n            $iframe.attr( 'src', slide.src );\n\n            if ( slide.opts.smallBtn === true ) {\n                slide.$content.prepend( self.translate( slide, slide.opts.btnTpl.smallBtn ) );\n            }\n\n            // Remove iframe if closing or changing gallery item\n            $slide.one( 'onReset', function () {\n\n                // This helps IE not to throw errors when closing\n                try {\n\n                    $( this ).find( 'iframe' ).hide().attr( 'src', '//about:blank' );\n\n                } catch ( ignore ) {}\n\n                $( this ).empty();\n\n                slide.isLoaded = false;\n\n            });\n\n        },\n\n\n        // Wrap and append content to the slide\n        // ======================================\n\n        setContent : function ( slide, content ) {\n\n            var self = this;\n\n            if ( self.isClosing ) {\n                return;\n            }\n\n            self.hideLoading( slide );\n\n            slide.$slide.empty();\n\n            if ( isQuery( content ) && content.parent().length ) {\n\n                // If content is a jQuery object, then it will be moved to the slide.\n                // The placeholder is created so we will know where to put it back.\n                // If user is navigating gallery fast, then the content might be already inside fancyBox\n                // =====================================================================================\n\n                // Make sure content is not already moved to fancyBox\n                content.parent( '.fancybox-slide--inline' ).trigger( 'onReset' );\n\n                // Create temporary element marking original place of the content\n                slide.$placeholder = $( '<div></div>' ).hide().insertAfter( content );\n\n                // Make sure content is visible\n                content.css('display', 'inline-block');\n\n            } else if ( !slide.hasError ) {\n\n                // If content is just a plain text, try to convert it to html\n                if ( $.type( content ) === 'string' ) {\n                    content = $('<div>').append( $.trim( content ) ).contents();\n\n                    // If we have text node, then add wrapping element to make vertical alignment work\n                    if ( content[0].nodeType === 3 ) {\n                        content = $('<div>').html( content );\n                    }\n                }\n\n                // If \"filter\" option is provided, then filter content\n                if ( slide.opts.filter ) {\n                    content = $('<div>').html( content ).find( slide.opts.filter );\n                }\n\n            }\n\n            slide.$slide.one('onReset', function () {\n\n                // Put content back\n                if ( slide.$placeholder ) {\n                    slide.$placeholder.after( content.hide() ).remove();\n\n                    slide.$placeholder = null;\n                }\n\n                // Remove custom close button\n                if ( slide.$smallBtn ) {\n                    slide.$smallBtn.remove();\n\n                    slide.$smallBtn = null;\n                }\n\n                // Remove content and mark slide as not loaded\n                if ( !slide.hasError ) {\n                    $(this).empty();\n\n                    slide.isLoaded = false;\n                }\n\n            });\n\n            slide.$content = $( content ).appendTo( slide.$slide );\n\n            if ( slide.opts.smallBtn && !slide.$smallBtn ) {\n                slide.$smallBtn = $( self.translate( slide, slide.opts.btnTpl.smallBtn ) ).appendTo( slide.$content.filter('div').first() );\n            }\n\n            this.afterLoad( slide );\n        },\n\n        // Display error message\n        // =====================\n\n        setError : function ( slide ) {\n\n            slide.hasError = true;\n\n            slide.$slide.removeClass( 'fancybox-slide--' + slide.type );\n\n            this.setContent( slide, this.translate( slide, slide.opts.errorTpl ) );\n\n        },\n\n\n        // Show loading icon inside the slide\n        // ==================================\n\n        showLoading : function( slide ) {\n\n            var self = this;\n\n            slide = slide || self.current;\n\n            if ( slide && !slide.$spinner ) {\n                slide.$spinner = $( self.opts.spinnerTpl ).appendTo( slide.$slide );\n            }\n\n        },\n\n        // Remove loading icon from the slide\n        // ==================================\n\n        hideLoading : function( slide ) {\n\n            var self = this;\n\n            slide = slide || self.current;\n\n            if ( slide && slide.$spinner ) {\n                slide.$spinner.remove();\n\n                delete slide.$spinner;\n            }\n\n        },\n\n\n        // Adjustments after slide content has been loaded\n        // ===============================================\n\n        afterLoad : function( slide ) {\n\n            var self = this;\n\n            if ( self.isClosing ) {\n                return;\n            }\n\n            slide.isLoading = false;\n            slide.isLoaded  = true;\n\n            self.trigger( 'afterLoad', slide );\n\n            self.hideLoading( slide );\n\n            if ( slide.opts.protect && slide.$content && !slide.hasError ) {\n\n                // Disable right click\n                slide.$content.on( 'contextmenu.fb', function( e ) {\n                     if ( e.button == 2 ) {\n                         e.preventDefault();\n                     }\n\n                    return true;\n                });\n\n                // Add fake element on top of the image\n                // This makes a bit harder for user to select image\n                if ( slide.type === 'image' ) {\n                    $( '<div class=\"fancybox-spaceball\"></div>' ).appendTo( slide.$content );\n                }\n\n            }\n\n            self.revealContent( slide );\n\n        },\n\n\n        // Make content visible\n        // This method is called right after content has been loaded or\n        // user navigates gallery and transition should start\n        // ============================================================\n\n        revealContent : function( slide ) {\n\n            var self   = this;\n            var $slide = slide.$slide;\n\n            var effect, effectClassName, duration, opacity, end, start = false;\n\n            effect   = slide.opts[ self.firstRun ? 'animationEffect'   : 'transitionEffect' ];\n            duration = slide.opts[ self.firstRun ? 'animationDuration' : 'transitionDuration' ];\n\n            duration = parseInt( slide.forcedDuration === undefined ? duration : slide.forcedDuration, 10 );\n\n            if ( slide.isMoved || slide.pos !== self.currPos || !duration ) {\n                effect = false;\n            }\n\n            // Check if can zoom\n            if ( effect === 'zoom' && !( slide.pos === self.currPos && duration && slide.type === 'image' && !slide.hasError && ( start = self.getThumbPos( slide ) ) ) ) {\n                effect = 'fade';\n            }\n\n\n            // Zoom animation\n            // ==============\n\n            if ( effect === 'zoom' ) {\n                end = self.getFitPos( slide );\n\n                end.scaleX = end.width  / start.width;\n                end.scaleY = end.height / start.height;\n\n                delete end.width;\n                delete end.height;\n\n                // Check if we need to animate opacity\n                opacity = slide.opts.zoomOpacity;\n\n                if ( opacity == 'auto' ) {\n                    opacity = Math.abs( slide.width / slide.height - start.width / start.height ) > 0.1;\n                }\n\n                if ( opacity ) {\n                    start.opacity = 0.1;\n                    end.opacity   = 1;\n                }\n\n                // Draw image at start position\n                $.fancybox.setTranslate( slide.$content.removeClass( 'fancybox-is-hidden' ), start );\n\n                forceRedraw( slide.$content );\n\n                // Start animation\n                $.fancybox.animate( slide.$content, end, duration, function() {\n                    self.complete();\n                });\n\n                return;\n            }\n\n\n            self.updateSlide( slide );\n\n\n            // Simply show content\n            // ===================\n\n            if ( !effect ) {\n                forceRedraw( $slide );\n\n                slide.$content.removeClass( 'fancybox-is-hidden' );\n\n                if ( slide.pos === self.currPos ) {\n                    self.complete();\n                }\n\n                return;\n            }\n\n            $.fancybox.stop( $slide );\n\n            effectClassName = 'fancybox-animated fancybox-slide--' + ( slide.pos > self.prevPos ? 'next' : 'previous' ) + ' fancybox-fx-' + effect;\n\n            $slide.removeAttr( 'style' ).removeClass( 'fancybox-slide--current fancybox-slide--next fancybox-slide--previous' ).addClass( effectClassName );\n\n            slide.$content.removeClass( 'fancybox-is-hidden' );\n\n            //Force reflow for CSS3 transitions\n            forceRedraw( $slide );\n\n            $.fancybox.animate( $slide, 'fancybox-slide--current', duration, function(e) {\n                $slide.removeClass( effectClassName ).removeAttr( 'style' );\n\n                if ( slide.pos === self.currPos ) {\n                    self.complete();\n                }\n\n            }, true);\n\n        },\n\n\n        // Check if we can and have to zoom from thumbnail\n        //================================================\n\n        getThumbPos : function( slide ) {\n\n            var self = this;\n            var rez  = false;\n\n            // Check if element is inside the viewport by at least 1 pixel\n            var isElementVisible = function( $el ) {\n                var element = $el[0];\n\n                var elementRect = element.getBoundingClientRect();\n                var parentRects = [];\n\n                var visibleInAllParents;\n\n                while ( element.parentElement !== null ) {\n                    if ( $(element.parentElement).css('overflow') === 'hidden'  || $(element.parentElement).css('overflow') === 'auto' ) {\n                        parentRects.push(element.parentElement.getBoundingClientRect());\n                    }\n\n                    element = element.parentElement;\n                }\n\n                visibleInAllParents = parentRects.every(function(parentRect){\n                    var visiblePixelX = Math.min(elementRect.right, parentRect.right) - Math.max(elementRect.left, parentRect.left);\n                    var visiblePixelY = Math.min(elementRect.bottom, parentRect.bottom) - Math.max(elementRect.top, parentRect.top);\n\n                    return visiblePixelX > 0 && visiblePixelY > 0;\n                });\n\n                return visibleInAllParents &&\n                    elementRect.bottom > 0 && elementRect.right > 0 &&\n                    elementRect.left < $(window).width() && elementRect.top < $(window).height();\n            };\n\n            var $thumb   = slide.opts.$thumb;\n            var thumbPos = $thumb ? $thumb.offset() : 0;\n            var slidePos;\n\n            if ( thumbPos && $thumb[0].ownerDocument === document && isElementVisible( $thumb ) ) {\n                slidePos = self.$refs.stage.offset();\n\n                rez = {\n                    top    : thumbPos.top  - slidePos.top  + parseFloat( $thumb.css( \"border-top-width\" ) || 0 ),\n                    left   : thumbPos.left - slidePos.left + parseFloat( $thumb.css( \"border-left-width\" ) || 0 ),\n                    width  : $thumb.width(),\n                    height : $thumb.height(),\n                    scaleX : 1,\n                    scaleY : 1\n                };\n            }\n\n            return rez;\n        },\n\n\n        // Final adjustments after current gallery item is moved to position\n        // and it`s content is loaded\n        // ==================================================================\n\n        complete : function() {\n\n            var self = this;\n\n            var current = self.current;\n            var slides  = {};\n\n            if ( current.isMoved || !current.isLoaded || current.isComplete ) {\n                return;\n            }\n\n            current.isComplete = true;\n\n            current.$slide.siblings().trigger( 'onReset' );\n\n            // Trigger any CSS3 transiton inside the slide\n            forceRedraw( current.$slide );\n\n            current.$slide.addClass( 'fancybox-slide--complete' );\n\n            // Remove unnecessary slides\n            $.each( self.slides, function( key, slide ) {\n                if ( slide.pos >= self.currPos - 1 && slide.pos <= self.currPos + 1 ) {\n                    slides[ slide.pos ] = slide;\n\n                } else if ( slide ) {\n\n                    $.fancybox.stop( slide.$slide );\n\n                    slide.$slide.unbind().remove();\n                }\n            });\n\n            self.slides = slides;\n\n            self.updateCursor();\n\n            self.trigger( 'afterShow' );\n\n            // Try to focus on the first focusable element\n            if ( $( document.activeElement ).is( '[disabled]' ) || ( current.opts.autoFocus && !( current.type == 'image' || current.type === 'iframe' ) ) ) {\n                self.focus();\n            }\n\n        },\n\n\n        // Preload next and previous slides\n        // ================================\n\n        preload : function() {\n            var self = this;\n            var next, prev;\n\n            if ( self.group.length < 2 ) {\n                return;\n            }\n\n            next  = self.slides[ self.currPos + 1 ];\n            prev  = self.slides[ self.currPos - 1 ];\n\n            if ( next && next.type === 'image' ) {\n                self.loadSlide( next );\n            }\n\n            if ( prev && prev.type === 'image' ) {\n                self.loadSlide( prev );\n            }\n\n        },\n\n\n        // Try to find and focus on the first focusable element\n        // ====================================================\n\n        focus : function() {\n            var current = this.current;\n            var $el;\n\n            if ( this.isClosing ) {\n                return;\n            }\n\n            // Skip for images and iframes\n            $el = current && current.isComplete ? current.$slide.find('button,:input,[tabindex],a').filter(':not([disabled]):visible:first') : null;\n            $el = $el && $el.length ? $el : this.$refs.container;\n\n            $el.focus();\n        },\n\n\n        // Activates current instance - brings container to the front and enables keyboard,\n        // notifies other instances about deactivating\n        // =================================================================================\n\n        activate : function () {\n            var self = this;\n\n            // Deactivate all instances\n            $( '.fancybox-container' ).each(function () {\n                var instance = $(this).data( 'FancyBox' );\n\n                // Skip self and closing instances\n                if (instance && instance.uid !== self.uid && !instance.isClosing) {\n                    instance.trigger( 'onDeactivate' );\n                }\n\n            });\n\n            if ( self.current ) {\n                if ( self.$refs.container.index() > 0 ) {\n                    self.$refs.container.prependTo( document.body );\n                }\n\n                self.updateControls();\n            }\n\n            self.trigger( 'onActivate' );\n\n            self.addEvents();\n\n        },\n\n\n        // Start closing procedure\n        // This will start \"zoom-out\" animation if needed and clean everything up afterwards\n        // =================================================================================\n\n        close : function( e, d ) {\n\n            var self    = this;\n            var current = self.current;\n\n            var effect, duration;\n            var $what, opacity, start, end;\n\n            var done = function() {\n                self.cleanUp( e );\n            };\n\n            if ( self.isClosing ) {\n                return false;\n            }\n\n            self.isClosing = true;\n\n            // If beforeClose callback prevents closing, make sure content is centered\n            if ( self.trigger( 'beforeClose', e ) === false ) {\n                self.isClosing = false;\n\n                requestAFrame(function() {\n                    self.update();\n                });\n\n                return false;\n            }\n\n            // Remove all events\n            // If there are multiple instances, they will be set again by \"activate\" method\n            self.removeEvents();\n\n            if ( current.timouts ) {\n                clearTimeout( current.timouts );\n            }\n\n            $what    = current.$content;\n            effect   = current.opts.animationEffect;\n            duration = $.isNumeric( d ) ? d : ( effect ? current.opts.animationDuration : 0 );\n\n            // Remove other slides\n            current.$slide.off( transitionEnd ).removeClass( 'fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated' );\n\n            current.$slide.siblings().trigger( 'onReset' ).remove();\n\n            // Trigger animations\n            if ( duration ) {\n                self.$refs.container.removeClass( 'fancybox-is-open' ).addClass( 'fancybox-is-closing' );\n            }\n\n            // Clean up\n            self.hideLoading( current );\n\n            self.hideControls();\n\n            self.updateCursor();\n\n            // Check if possible to zoom-out\n            if ( effect === 'zoom' && !( e !== true && $what && duration && current.type === 'image' && !current.hasError && ( end = self.getThumbPos( current ) ) ) ) {\n                effect = 'fade';\n            }\n\n            if ( effect === 'zoom' ) {\n                $.fancybox.stop( $what );\n\n                start = $.fancybox.getTranslate( $what );\n\n                start.width  = start.width  * start.scaleX;\n                start.height = start.height * start.scaleY;\n\n                // Check if we need to animate opacity\n                opacity = current.opts.zoomOpacity;\n\n                if ( opacity == 'auto' ) {\n                    opacity = Math.abs( current.width / current.height - end.width / end.height ) > 0.1;\n                }\n\n                if ( opacity ) {\n                    end.opacity = 0;\n                }\n\n                start.scaleX = start.width  / end.width;\n                start.scaleY = start.height / end.height;\n\n                start.width  = end.width;\n                start.height = end.height;\n\n                $.fancybox.setTranslate( current.$content, start );\n\n                $.fancybox.animate( current.$content, end, duration, done );\n\n                return true;\n            }\n\n            if ( effect && duration ) {\n\n                // If skip animation\n                if ( e === true ) {\n                    setTimeout( done, duration );\n\n                } else {\n                    $.fancybox.animate( current.$slide.removeClass( 'fancybox-slide--current' ), 'fancybox-animated fancybox-slide--previous fancybox-fx-' + effect, duration, done );\n                }\n\n            } else {\n                done();\n            }\n\n            return true;\n        },\n\n\n        // Final adjustments after removing the instance\n        // =============================================\n\n        cleanUp : function( e ) {\n            var self = this,\n                instance;\n\n            self.current.$slide.trigger( 'onReset' );\n\n            self.$refs.container.empty().remove();\n\n            self.trigger( 'afterClose', e );\n\n            // Place back focus\n            if ( self.$lastFocus && !!self.current.opts.backFocus ) {\n                self.$lastFocus.focus();\n            }\n\n            self.current = null;\n\n            // Check if there are other instances\n            instance = $.fancybox.getInstance();\n\n            if ( instance ) {\n                instance.activate();\n\n            } else {\n\n                $W.scrollTop( self.scrollTop ).scrollLeft( self.scrollLeft );\n\n                $( 'html' ).removeClass( 'fancybox-enabled' );\n\n                $( '#fancybox-style-noscroll' ).remove();\n            }\n\n        },\n\n\n        // Call callback and trigger an event\n        // ==================================\n\n        trigger : function( name, slide ) {\n            var args  = Array.prototype.slice.call(arguments, 1),\n                self  = this,\n                obj   = slide && slide.opts ? slide : self.current,\n                rez;\n\n            if ( obj ) {\n                args.unshift( obj );\n\n            } else {\n                obj = self;\n            }\n\n            args.unshift( self );\n\n            if ( $.isFunction( obj.opts[ name ] ) ) {\n                rez = obj.opts[ name ].apply( obj, args );\n            }\n\n            if ( rez === false ) {\n                return rez;\n            }\n\n            if ( name === 'afterClose' ) {\n                $D.trigger( name + '.fb', args );\n\n            } else {\n                self.$refs.container.trigger( name + '.fb', args );\n            }\n\n        },\n\n\n        // Update infobar values, navigation button states and reveal caption\n        // ==================================================================\n\n        updateControls : function ( force ) {\n\n            var self = this;\n\n            var current  = self.current;\n            var index    = current.index;\n            var opts     = current.opts;\n            var caption  = opts.caption;\n            var $caption = self.$refs.caption;\n\n            // Recalculate content dimensions\n            current.$slide.trigger( 'refresh' );\n\n            self.$caption = caption && caption.length ? $caption.html( caption ) : null;\n\n            if ( !self.isHiddenControls ) {\n                self.showControls();\n            }\n\n            // Update info and navigation elements\n            $('[data-fancybox-count]').html( self.group.length );\n            $('[data-fancybox-index]').html( index + 1 );\n\n            $('[data-fancybox-prev]').prop('disabled', ( !opts.loop && index <= 0 ) );\n            $('[data-fancybox-next]').prop('disabled', ( !opts.loop && index >= self.group.length - 1 ) );\n\n        },\n\n        // Hide toolbar and caption\n        // ========================\n\n        hideControls : function () {\n\n            this.isHiddenControls = true;\n\n            this.$refs.container.removeClass('fancybox-show-infobar fancybox-show-toolbar fancybox-show-caption fancybox-show-nav');\n\n        },\n\n        showControls : function() {\n\n            var self = this;\n            var opts = self.current ? self.current.opts : self.opts;\n            var $container = self.$refs.container;\n\n            self.isHiddenControls   = false;\n            self.idleSecondsCounter = 0;\n\n            $container\n                .toggleClass('fancybox-show-toolbar', !!( opts.toolbar && opts.buttons ) )\n                .toggleClass('fancybox-show-infobar', !!( opts.infobar && self.group.length > 1 ) )\n                .toggleClass('fancybox-show-nav',     !!( opts.arrows && self.group.length > 1 ) )\n                .toggleClass('fancybox-is-modal',     !!opts.modal );\n\n            if ( self.$caption ) {\n                $container.addClass( 'fancybox-show-caption ');\n\n            } else {\n               $container.removeClass( 'fancybox-show-caption' );\n           }\n\n       },\n\n\n       // Toggle toolbar and caption\n       // ==========================\n\n       toggleControls : function() {\n\n           if ( this.isHiddenControls ) {\n               this.showControls();\n\n           } else {\n               this.hideControls();\n           }\n\n       },\n\n\n    });\n\n\n    $.fancybox = {\n\n        version  : \"3.1.25\",\n        defaults : defaults,\n\n\n        // Get current instance and execute a command.\n        //\n        // Examples of usage:\n        //\n        //   $instance = $.fancybox.getInstance();\n        //   $.fancybox.getInstance().jumpTo( 1 );\n        //   $.fancybox.getInstance( 'jumpTo', 1 );\n        //   $.fancybox.getInstance( function() {\n        //       console.info( this.currIndex );\n        //   });\n        // ======================================================\n\n        getInstance : function ( command ) {\n            var instance = $('.fancybox-container:not(\".fancybox-is-closing\"):first').data( 'FancyBox' );\n            var args     = Array.prototype.slice.call(arguments, 1);\n\n            if ( instance instanceof FancyBox ) {\n\n                if ( $.type( command ) === 'string' ) {\n                    instance[ command ].apply( instance, args );\n\n                } else if ( $.type( command ) === 'function' ) {\n                    command.apply( instance, args );\n\n                }\n\n                return instance;\n            }\n\n            return false;\n\n        },\n\n\n        // Create new instance\n        // ===================\n\n        open : function ( items, opts, index ) {\n            return new FancyBox( items, opts, index );\n        },\n\n\n        // Close current or all instances\n        // ==============================\n\n        close : function ( all ) {\n            var instance = this.getInstance();\n\n            if ( instance ) {\n                instance.close();\n\n                // Try to find and close next instance\n\n                if ( all === true ) {\n                    this.close();\n                }\n            }\n\n        },\n\n        // Close instances and unbind all events\n        // ==============================\n\n        destroy : function() {\n\n            this.close( true );\n\n            $D.off( 'click.fb-start' );\n\n        },\n\n\n        // Try to detect mobile devices\n        // ============================\n\n        isMobile : document.createTouch !== undefined && /Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent),\n\n\n        // Detect if 'translate3d' support is available\n        // ============================================\n\n        use3d : (function() {\n            var div = document.createElement('div');\n\n            return window.getComputedStyle && window.getComputedStyle( div ).getPropertyValue('transform') && !(document.documentMode && document.documentMode < 11);\n        }()),\n\n\n        // Helper function to get current visual state of an element\n        // returns array[ top, left, horizontal-scale, vertical-scale, opacity ]\n        // =====================================================================\n\n        getTranslate : function( $el ) {\n            var matrix;\n\n            if ( !$el || !$el.length ) {\n                return false;\n            }\n\n            matrix  = $el.eq( 0 ).css('transform');\n\n            if ( matrix && matrix.indexOf( 'matrix' ) !== -1 ) {\n                matrix = matrix.split('(')[1];\n                matrix = matrix.split(')')[0];\n                matrix = matrix.split(',');\n            } else {\n                matrix = [];\n            }\n\n            if ( matrix.length ) {\n\n                // If IE\n                if ( matrix.length > 10 ) {\n                    matrix = [ matrix[13], matrix[12], matrix[0], matrix[5] ];\n\n                } else {\n                    matrix = [ matrix[5], matrix[4], matrix[0], matrix[3]];\n                }\n\n                matrix = matrix.map(parseFloat);\n\n            } else {\n                matrix = [ 0, 0, 1, 1 ];\n\n                var transRegex = /\\.*translate\\((.*)px,(.*)px\\)/i;\n                var transRez = transRegex.exec( $el.eq( 0 ).attr('style') );\n\n                if ( transRez ) {\n                    matrix[ 0 ] = parseFloat( transRez[2] );\n                    matrix[ 1 ] = parseFloat( transRez[1] );\n                }\n            }\n\n            return {\n                top     : matrix[ 0 ],\n                left    : matrix[ 1 ],\n                scaleX  : matrix[ 2 ],\n                scaleY  : matrix[ 3 ],\n                opacity : parseFloat( $el.css('opacity') ),\n                width   : $el.width(),\n                height  : $el.height()\n            };\n\n        },\n\n\n        // Shortcut for setting \"translate3d\" properties for element\n        // Can set be used to set opacity, too\n        // ========================================================\n\n        setTranslate : function( $el, props ) {\n            var str  = '';\n            var css  = {};\n\n            if ( !$el || !props ) {\n                return;\n            }\n\n            if ( props.left !== undefined || props.top !== undefined ) {\n                str = ( props.left === undefined ? $el.position().left : props.left )  + 'px, ' + ( props.top === undefined ? $el.position().top : props.top ) + 'px';\n\n                if ( this.use3d ) {\n                    str = 'translate3d(' + str + ', 0px)';\n\n                } else {\n                    str = 'translate(' + str + ')';\n                }\n            }\n\n            if ( props.scaleX !== undefined && props.scaleY !== undefined ) {\n                str = (str.length ? str + ' ' : '') + 'scale(' + props.scaleX + ', ' + props.scaleY + ')';\n            }\n\n            if ( str.length ) {\n                css.transform = str;\n            }\n\n            if ( props.opacity !== undefined ) {\n                css.opacity = props.opacity;\n            }\n\n            if ( props.width !== undefined ) {\n                css.width = props.width;\n            }\n\n            if ( props.height !== undefined ) {\n                css.height = props.height;\n            }\n\n            return $el.css( css );\n        },\n\n\n        // Simple CSS transition handler\n        // =============================\n\n        animate : function ( $el, to, duration, callback, leaveAnimationName ) {\n            var event = transitionEnd || 'transitionend';\n\n            if ( $.isFunction( duration ) ) {\n                callback = duration;\n                duration = null;\n            }\n\n            if ( !$.isPlainObject( to ) ) {\n                $el.removeAttr('style');\n            }\n\n            $el.on( event, function(e) {\n\n                // Skip events from child elements and z-index change\n                if ( e && e.originalEvent && ( !$el.is( e.originalEvent.target ) || e.originalEvent.propertyName == 'z-index' ) ) {\n                    return;\n                }\n\n                $el.off( event );\n\n                if ( $.isPlainObject( to ) ) {\n\n                    if ( to.scaleX !== undefined && to.scaleY !== undefined ) {\n                        $el.css( 'transition-duration', '0ms' );\n\n                        to.width  = Math.round( $el.width()  * to.scaleX );\n                        to.height = Math.round( $el.height() * to.scaleY );\n\n                        to.scaleX = 1;\n                        to.scaleY = 1;\n\n                        $.fancybox.setTranslate( $el, to );\n                    }\n\n                } else if ( leaveAnimationName !== true ) {\n                    $el.removeClass( to );\n                }\n\n                if ( $.isFunction( callback ) ) {\n                    callback( e );\n                }\n\n            });\n\n            if ( $.isNumeric( duration ) ) {\n                $el.css( 'transition-duration', duration + 'ms' );\n            }\n\n            if ( $.isPlainObject( to ) ) {\n                $.fancybox.setTranslate( $el, to );\n\n            } else {\n                $el.addClass( to );\n            }\n\n            $el.data(\"timer\", setTimeout(function() {\n                $el.trigger( 'transitionend' );\n            }, duration + 16));\n\n        },\n\n        stop : function( $el ) {\n            clearTimeout( $el.data(\"timer\") );\n\n            $el.off( transitionEnd );\n        }\n\n    };\n\n\n    // Default click handler for \"fancyboxed\" links\n    // ============================================\n\n    function _run( e ) {\n        var target\t= e.currentTarget,\n            opts\t= e.data ? e.data.options : {},\n            items\t= opts.selector ? $( opts.selector ) : ( e.data ? e.data.items : [] ),\n            value\t= $(target).attr( 'data-fancybox' ) || '',\n            index\t= 0,\n            active  = $.fancybox.getInstance();\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        // Avoid opening multiple times\n        if ( active && active.current.opts.$orig.is( target ) ) {\n            return;\n        }\n\n        // Get all related items and find index for clicked one\n        if ( value ) {\n            items = items.length ? items.filter( '[data-fancybox=\"' + value + '\"]' ) : $( '[data-fancybox=\"' + value + '\"]' );\n            index = items.index( target );\n\n            // Sometimes current item can not be found\n            // (for example, when slider clones items)\n            if ( index < 0 ) {\n                index = 0;\n            }\n\n        } else {\n            items = [ target ];\n        }\n\n        $.fancybox.open( items, opts, index );\n    }\n\n\n    // Create a jQuery plugin\n    // ======================\n\n    $.fn.fancybox = function (options) {\n        var selector;\n\n        options  = options || {};\n        selector = options.selector || false;\n\n        if ( selector ) {\n\n            $( 'body' ).off( 'click.fb-start', selector ).on( 'click.fb-start', selector, {\n                options : options\n            }, _run );\n\n        } else {\n\n            this.off( 'click.fb-start' ).on( 'click.fb-start', {\n                items   : this,\n                options : options\n            }, _run);\n\n        }\n\n        return this;\n    };\n\n\n    // Self initializing plugin\n    // ========================\n\n    $D.on( 'click.fb-start', '[data-fancybox]', _run );\n\n}( window, document, window.jQuery || jQuery ));\n\n// ==========================================================================\n//\n// Media\n// Adds additional media type support\n//\n// ==========================================================================\n;(function ($) {\n\n\t'use strict';\n\n\t// Formats matching url to final form\n\n\tvar format = function (url, rez, params) {\n\t\tif ( !url ) {\n\t\t\treturn;\n\t\t}\n\n\t\tparams = params || '';\n\n\t\tif ( $.type(params) === \"object\" ) {\n\t\t\tparams = $.param(params, true);\n\t\t}\n\n\t\t$.each(rez, function (key, value) {\n\t\t\turl = url.replace('$' + key, value || '');\n\t\t});\n\n\t\tif (params.length) {\n\t\t\turl += (url.indexOf('?') > 0 ? '&' : '?') + params;\n\t\t}\n\n\t\treturn url;\n\t};\n\n\t// Object containing properties for each media type\n\n\tvar defaults = {\n\t\tyoutube : {\n\t\t\tmatcher : /(youtube\\.com|youtu\\.be|youtube\\-nocookie\\.com)\\/(watch\\?(.*&)?v=|v\\/|u\\/|embed\\/?)?(videoseries\\?list=(.*)|[\\w-]{11}|\\?listType=(.*)&list=(.*))(.*)/i,\n\t\t\tparams  : {\n\t\t\t\tautoplay : 1,\n\t\t\t\tautohide : 1,\n\t\t\t\tfs  : 1,\n\t\t\t\trel : 0,\n\t\t\t\thd  : 1,\n\t\t\t\twmode : 'transparent',\n\t\t\t\tenablejsapi : 1,\n\t\t\t\thtml5 : 1\n\t\t\t},\n\t\t\tparamPlace : 8,\n\t\t\ttype  : 'iframe',\n\t\t\turl   : '//www.youtube.com/embed/$4',\n\t\t\tthumb : '//img.youtube.com/vi/$4/hqdefault.jpg'\n\t\t},\n\n\t\tvimeo : {\n\t\t\tmatcher : /^.+vimeo.com\\/(.*\\/)?([\\d]+)(.*)?/,\n\t\t\tparams  : {\n\t\t\t\tautoplay : 1,\n\t\t\t\thd : 1,\n\t\t\t\tshow_title    : 1,\n\t\t\t\tshow_byline   : 1,\n\t\t\t\tshow_portrait : 0,\n\t\t\t\tfullscreen    : 1,\n\t\t\t\tapi : 1\n\t\t\t},\n\t\t\tparamPlace : 3,\n\t\t\ttype : 'iframe',\n\t\t\turl : '//player.vimeo.com/video/$2'\n\t\t},\n\n\t\tmetacafe : {\n\t\t\tmatcher : /metacafe.com\\/watch\\/(\\d+)\\/(.*)?/,\n\t\t\ttype    : 'iframe',\n\t\t\turl     : '//www.metacafe.com/embed/$1/?ap=1'\n\t\t},\n\n\t\tdailymotion : {\n\t\t\tmatcher : /dailymotion.com\\/video\\/(.*)\\/?(.*)/,\n\t\t\tparams : {\n\t\t\t\tadditionalInfos : 0,\n\t\t\t\tautoStart : 1\n\t\t\t},\n\t\t\ttype : 'iframe',\n\t\t\turl  : '//www.dailymotion.com/embed/video/$1'\n\t\t},\n\n\t\tvine : {\n\t\t\tmatcher : /vine.co\\/v\\/([a-zA-Z0-9\\?\\=\\-]+)/,\n\t\t\ttype    : 'iframe',\n\t\t\turl     : '//vine.co/v/$1/embed/simple'\n\t\t},\n\n\t\tinstagram : {\n\t\t\tmatcher : /(instagr\\.am|instagram\\.com)\\/p\\/([a-zA-Z0-9_\\-]+)\\/?/i,\n\t\t\ttype    : 'image',\n\t\t\turl     : '//$1/p/$2/media/?size=l'\n\t\t},\n\n\t\t// Examples:\n\t\t// http://maps.google.com/?ll=48.857995,2.294297&spn=0.007666,0.021136&t=m&z=16\n\t\t// https://www.google.com/maps/@37.7852006,-122.4146355,14.65z\n\t\t// https://www.google.com/maps/place/Googleplex/@37.4220041,-122.0833494,17z/data=!4m5!3m4!1s0x0:0x6c296c66619367e0!8m2!3d37.4219998!4d-122.0840572\n\t\tgmap_place : {\n\t\t\tmatcher : /(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(((maps\\/(place\\/(.*)\\/)?\\@(.*),(\\d+.?\\d+?)z))|(\\?ll=))(.*)?/i,\n\t\t\ttype    : 'iframe',\n\t\t\turl     : function (rez) {\n\t\t\t\treturn '//maps.google.' + rez[2] + '/?ll=' + ( rez[9] ? rez[9] + '&z=' + Math.floor(  rez[10]  ) + ( rez[12] ? rez[12].replace(/^\\//, \"&\") : '' )  : rez[12] ) + '&output=' + ( rez[12] && rez[12].indexOf('layer=c') > 0 ? 'svembed' : 'embed' );\n\t\t\t}\n\t\t},\n\n\t\t// Examples:\n\t\t// https://www.google.com/maps/search/Empire+State+Building/\n\t\t// https://www.google.com/maps/search/?api=1&query=centurylink+field\n\t\t// https://www.google.com/maps/search/?api=1&query=47.5951518,-122.3316393\n\t\tgmap_search : {\n\t\t\tmatcher : /(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(maps\\/search\\/)(.*)/i,\n\t\t\ttype    : 'iframe',\n\t\t\turl     : function (rez) {\n\t\t\t\treturn '//maps.google.' + rez[2] + '/maps?q=' + rez[5].replace('query=', 'q=').replace('api=1', '') + '&output=embed';\n\t\t\t}\n\t\t}\n\t};\n\n\t$(document).on('onInit.fb', function (e, instance) {\n\n\t\t$.each(instance.group, function( i, item ) {\n\n\t\t\tvar url\t = item.src || '',\n\t\t\t\ttype = false,\n\t\t\t\tmedia,\n\t\t\t\tthumb,\n\t\t\t\trez,\n\t\t\t\tparams,\n\t\t\t\turlParams,\n\t\t\t\to,\n\t\t\t\tprovider;\n\n\t\t\t// Skip items that already have content type\n\t\t\tif ( item.type ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tmedia = $.extend( true, {}, defaults, item.opts.media );\n\n\t\t\t// Look for any matching media type\n\t\t\t$.each(media, function ( n, el ) {\n\t\t\t\trez = url.match(el.matcher);\n\t\t\t\to   = {};\n\t\t\t\tprovider = n;\n\n\t\t\t\tif (!rez) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\ttype = el.type;\n\n\t\t\t\tif ( el.paramPlace && rez[ el.paramPlace ] ) {\n\t\t\t\t\turlParams = rez[ el.paramPlace ];\n\n\t\t\t\t\tif ( urlParams[ 0 ] == '?' ) {\n\t\t\t\t\t\turlParams = urlParams.substring(1);\n\t\t\t\t\t}\n\n\t\t\t\t\turlParams = urlParams.split('&');\n\n\t\t\t\t\tfor ( var m = 0; m < urlParams.length; ++m ) {\n\t\t\t\t\t\tvar p = urlParams[ m ].split('=', 2);\n\n\t\t\t\t\t\tif ( p.length == 2 ) {\n\t\t\t\t\t\t\to[ p[0] ] = decodeURIComponent( p[1].replace(/\\+/g, \" \") );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tparams = $.extend( true, {}, el.params, item.opts[ n ], o );\n\n\t\t\t\turl   = $.type(el.url) === \"function\" ? el.url.call(this, rez, params, item) : format(el.url, rez, params);\n\t\t\t\tthumb = $.type(el.thumb) === \"function\" ? el.thumb.call(this, rez, params, item) : format(el.thumb, rez);\n\n\t\t\t\tif ( provider === 'vimeo' ) {\n\t\t\t\t\turl = url.replace('&%23', '#');\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t});\n\n\t\t\t// If it is found, then change content type and update the url\n\n\t\t\tif ( type ) {\n\t\t\t\titem.src  = url;\n\t\t\t\titem.type = type;\n\n\t\t\t\tif ( !item.opts.thumb && !( item.opts.$thumb && item.opts.$thumb.length ) ) {\n\t\t\t\t\titem.opts.thumb = thumb;\n\t\t\t\t}\n\n\t\t\t\tif ( type === 'iframe' ) {\n\t\t\t\t\t$.extend(true, item.opts, {\n\t\t\t\t\t\tiframe : {\n\t\t\t\t\t\t\tpreload : false,\n\t\t\t\t\t\t\tattr : {\n\t\t\t\t\t\t\t\tscrolling : \"no\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\titem.contentProvider = provider;\n\n\t\t\t\t\titem.opts.slideClass += ' fancybox-slide--' + ( provider == 'gmap_place' || provider == 'gmap_search' ? 'map' : 'video' );\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// If no content type is found, then set it to `image` as fallback\n\t\t\t\titem.type = 'image';\n\t\t\t}\n\n\t\t});\n\n\t});\n\n}(window.jQuery));\n\n// ==========================================================================\n//\n// Guestures\n// Adds touch guestures, handles click and tap events\n//\n// ==========================================================================\n;(function (window, document, $) {\n\t'use strict';\n\n\tvar requestAFrame = (function () {\n        return window.requestAnimationFrame ||\n                window.webkitRequestAnimationFrame ||\n                window.mozRequestAnimationFrame ||\n                window.oRequestAnimationFrame ||\n                // if all else fails, use setTimeout\n                function (callback) {\n                    return window.setTimeout(callback, 1000 / 60);\n                };\n    })();\n\n\n    var cancelAFrame = (function () {\n        return window.cancelAnimationFrame ||\n                window.webkitCancelAnimationFrame ||\n                window.mozCancelAnimationFrame ||\n                window.oCancelAnimationFrame ||\n                function (id) {\n                    window.clearTimeout(id);\n                };\n    })();\n\n\n\tvar pointers = function( e ) {\n\t\tvar result = [];\n\n\t\te = e.originalEvent || e || window.e;\n\t\te = e.touches && e.touches.length ? e.touches : ( e.changedTouches && e.changedTouches.length ? e.changedTouches : [ e ] );\n\n\t\tfor ( var key in e ) {\n\n\t\t\tif ( e[ key ].pageX ) {\n\t\t\t\tresult.push( { x : e[ key ].pageX, y : e[ key ].pageY } );\n\n\t\t\t} else if ( e[ key ].clientX ) {\n\t\t\t\tresult.push( { x : e[ key ].clientX, y : e[ key ].clientY } );\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\tvar distance = function( point2, point1, what ) {\n\t\tif ( !point1 || !point2 ) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tif ( what === 'x' ) {\n\t\t\treturn point2.x - point1.x;\n\n\t\t} else if ( what === 'y' ) {\n\t\t\treturn point2.y - point1.y;\n\t\t}\n\n\t\treturn Math.sqrt( Math.pow( point2.x - point1.x, 2 ) + Math.pow( point2.y - point1.y, 2 ) );\n\t};\n\n\tvar isClickable = function( $el ) {\n\n\t\tif ( $el.is('a,button,input,select,textarea') || $.isFunction( $el.get(0).onclick ) || $el.data('selectable') ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Check for attributes like data-fancybox-next or data-fancybox-close\n\t\tfor ( var i = 0, atts = $el[0].attributes, n = atts.length; i < n; i++ ) {\n            if ( atts[i].nodeName.substr(0, 14) === 'data-fancybox-' ) {\n                return true;\n            }\n        }\n\n\t \treturn false;\n\t};\n\n\tvar hasScrollbars = function( el ) {\n\t\tvar overflowY = window.getComputedStyle( el )['overflow-y'];\n\t\tvar overflowX = window.getComputedStyle( el )['overflow-x'];\n\n\t\tvar vertical   = (overflowY === 'scroll' || overflowY === 'auto') && el.scrollHeight > el.clientHeight;\n\t\tvar horizontal = (overflowX === 'scroll' || overflowX === 'auto') && el.scrollWidth > el.clientWidth;\n\n\t\treturn vertical || horizontal;\n\t};\n\n\tvar isScrollable = function ( $el ) {\n\t\tvar rez = false;\n\n\t\twhile ( true ) {\n\t\t\trez\t= hasScrollbars( $el.get(0) );\n\n\t\t\tif ( rez ) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t$el = $el.parent();\n\n\t\t\tif ( !$el.length || $el.hasClass( 'fancybox-stage' ) || $el.is( 'body' ) ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn rez;\n\t};\n\n\n\tvar Guestures = function ( instance ) {\n\t\tvar self = this;\n\n\t\tself.instance = instance;\n\n\t\tself.$bg        = instance.$refs.bg;\n\t\tself.$stage     = instance.$refs.stage;\n\t\tself.$container = instance.$refs.container;\n\n\t\tself.destroy();\n\n\t\tself.$container.on( 'touchstart.fb.touch mousedown.fb.touch', $.proxy(self, 'ontouchstart') );\n\t};\n\n\tGuestures.prototype.destroy = function() {\n\t\tthis.$container.off( '.fb.touch' );\n\t};\n\n\tGuestures.prototype.ontouchstart = function( e ) {\n\t\tvar self = this;\n\n\t\tvar $target  = $( e.target );\n\t\tvar instance = self.instance;\n\t\tvar current  = instance.current;\n\t\tvar $content = current.$content;\n\n\t\tvar isTouchDevice = ( e.type == 'touchstart' );\n\n\t\t// Do not respond to both events\n\t\tif ( isTouchDevice ) {\n\t        self.$container.off( 'mousedown.fb.touch' );\n\t    }\n\n\t\t// Ignore clicks while zooming or closing\n\t\tif ( !current || self.instance.isAnimating || self.instance.isClosing ) {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\n\t\t\treturn;\n\t\t}\n\n\t\t// Ignore right click\n\t\tif ( e.originalEvent && e.originalEvent.button == 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Ignore taping on links, buttons, input elements\n\t\tif ( !$target.length || isClickable( $target ) || isClickable( $target.parent() ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Ignore clicks on the scrollbar\n\t\tif ( e.originalEvent.clientX > $target[0].clientWidth + $target.offset().left ) {\n\t\t\treturn;\n\t\t}\n\n\t\tself.startPoints = pointers( e );\n\n\t\t// Prevent zooming if already swiping\n\t\tif ( !self.startPoints || ( self.startPoints.length > 1 && instance.isSliding ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tself.$target  = $target;\n\t\tself.$content = $content;\n\t\tself.canTap   = true;\n\n\t\t$(document).off( '.fb.touch' );\n\n\t\t$(document).on( isTouchDevice ? 'touchend.fb.touch touchcancel.fb.touch' : 'mouseup.fb.touch mouseleave.fb.touch',  $.proxy(self, \"ontouchend\"));\n\t\t$(document).on( isTouchDevice ? 'touchmove.fb.touch' : 'mousemove.fb.touch',  $.proxy(self, \"ontouchmove\"));\n\n\t\tif ( !(instance.current.opts.touch || instance.canPan() ) || !( $target.is( self.$stage ) || self.$stage.find( $target ).length ) ) {\n\n\t\t\t// Prevent ghosting\n\t\t\tif ( $target.is('img') ) {\n\t\t\t\te.preventDefault();\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\te.stopPropagation();\n\n\t\tif ( !( $.fancybox.isMobile && ( isScrollable( self.$target ) || isScrollable( self.$target.parent() ) ) ) ) {\n\t\t\te.preventDefault();\n\t\t}\n\n\t\tself.canvasWidth  = Math.round( current.$slide[0].clientWidth );\n\t\tself.canvasHeight = Math.round( current.$slide[0].clientHeight );\n\n\t\tself.startTime = new Date().getTime();\n\t\tself.distanceX = self.distanceY = self.distance = 0;\n\n\t\tself.isPanning = false;\n\t\tself.isSwiping = false;\n\t\tself.isZooming = false;\n\n\t\tself.sliderStartPos  = self.sliderLastPos || { top: 0, left: 0 };\n\t\tself.contentStartPos = $.fancybox.getTranslate( self.$content );\n\t\tself.contentLastPos  = null;\n\n\t\tif ( self.startPoints.length === 1 && !self.isZooming ) {\n\t\t\tself.canTap = !instance.isSliding;\n\n\t\t\tif ( current.type === 'image' && ( self.contentStartPos.width > self.canvasWidth + 1 || self.contentStartPos.height > self.canvasHeight + 1 ) ) {\n\n\t\t\t\t$.fancybox.stop( self.$content );\n\n\t\t\t\tself.$content.css( 'transition-duration', '0ms' );\n\n\t\t\t\tself.isPanning = true;\n\n\t\t\t} else {\n\n\t\t\t\tself.isSwiping = true;\n\t\t\t}\n\n\t\t\tself.$container.addClass('fancybox-controls--isGrabbing');\n\t\t}\n\n\t\tif ( self.startPoints.length === 2 && !instance.isAnimating && !current.hasError && current.type === 'image' && ( current.isLoaded || current.$ghost ) ) {\n\t\t\tself.isZooming = true;\n\n\t\t\tself.isSwiping = false;\n\t\t\tself.isPanning = false;\n\n\t\t\t$.fancybox.stop( self.$content );\n\n\t\t\tself.$content.css( 'transition-duration', '0ms' );\n\n\t\t\tself.centerPointStartX = ( ( self.startPoints[0].x + self.startPoints[1].x ) * 0.5 ) - $(window).scrollLeft();\n\t\t\tself.centerPointStartY = ( ( self.startPoints[0].y + self.startPoints[1].y ) * 0.5 ) - $(window).scrollTop();\n\n\t\t\tself.percentageOfImageAtPinchPointX = ( self.centerPointStartX - self.contentStartPos.left ) / self.contentStartPos.width;\n\t\t\tself.percentageOfImageAtPinchPointY = ( self.centerPointStartY - self.contentStartPos.top  ) / self.contentStartPos.height;\n\n\t\t\tself.startDistanceBetweenFingers = distance( self.startPoints[0], self.startPoints[1] );\n\t\t}\n\n\t};\n\n\tGuestures.prototype.ontouchmove = function( e ) {\n\n\t\tvar self = this;\n\n\t\tself.newPoints = pointers( e );\n\n\t\tif ( $.fancybox.isMobile && ( isScrollable( self.$target ) || isScrollable( self.$target.parent() ) ) ) {\n\t\t\te.stopPropagation();\n\n\t\t\tself.canTap = false;\n\n\t\t\treturn;\n\t\t}\n\n\t\tif ( !( self.instance.current.opts.touch || self.instance.canPan() ) || !self.newPoints || !self.newPoints.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\tself.distanceX = distance( self.newPoints[0], self.startPoints[0], 'x' );\n\t\tself.distanceY = distance( self.newPoints[0], self.startPoints[0], 'y' );\n\n\t\tself.distance = distance( self.newPoints[0], self.startPoints[0] );\n\n\t\t// Skip false ontouchmove events (Chrome)\n\t\tif ( self.distance > 0 ) {\n\n\t\t\tif ( !( self.$target.is( self.$stage ) || self.$stage.find( self.$target ).length ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\n\t\t\tif ( self.isSwiping ) {\n\t\t\t\tself.onSwipe();\n\n\t\t\t} else if ( self.isPanning ) {\n\t\t\t\tself.onPan();\n\n\t\t\t} else if ( self.isZooming ) {\n\t\t\t\tself.onZoom();\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tGuestures.prototype.onSwipe = function() {\n\n\t\tvar self = this;\n\n\t\tvar swiping = self.isSwiping;\n\t\tvar left    = self.sliderStartPos.left || 0;\n\t\tvar angle;\n\n\t\tif ( swiping === true ) {\n\n\t\t\tif ( Math.abs( self.distance ) > 10 )  {\n\n\t\t\t\tself.canTap = false;\n\n\t\t\t\tif ( self.instance.group.length < 2 && self.instance.opts.touch.vertical ) {\n\t\t\t\t\tself.isSwiping  = 'y';\n\n\t\t\t\t} else if ( self.instance.isSliding || self.instance.opts.touch.vertical === false || ( self.instance.opts.touch.vertical === 'auto' && $( window ).width() > 800 ) ) {\n\t\t\t\t\tself.isSwiping  = 'x';\n\n\t\t\t\t} else {\n\t\t\t\t\tangle = Math.abs( Math.atan2( self.distanceY, self.distanceX ) * 180 / Math.PI );\n\n\t\t\t\t\tself.isSwiping = ( angle > 45 && angle < 135 ) ? 'y' : 'x';\n\t\t\t\t}\n\n\t\t\t\tself.instance.isSliding = self.isSwiping;\n\n\t\t\t\t// Reset points to avoid jumping, because we dropped first swipes to calculate the angle\n\t\t\t\tself.startPoints = self.newPoints;\n\n\t\t\t\t$.each(self.instance.slides, function( index, slide ) {\n\t\t\t\t\t$.fancybox.stop( slide.$slide );\n\n\t\t\t\t\tslide.$slide.css( 'transition-duration', '0ms' );\n\n\t\t\t\t\tslide.inTransition = false;\n\n\t\t\t\t\tif ( slide.pos === self.instance.current.pos ) {\n\t\t\t\t\t\tself.sliderStartPos.left = $.fancybox.getTranslate( slide.$slide ).left;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t//self.instance.current.isMoved = true;\n\n\t\t\t\t// Stop slideshow\n\t\t\t\tif ( self.instance.SlideShow && self.instance.SlideShow.isActive ) {\n\t\t\t\t\tself.instance.SlideShow.stop();\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( swiping == 'x' ) {\n\n\t\t\t\t// Sticky edges\n\t\t\t\tif ( self.distanceX > 0 && ( self.instance.group.length < 2 || ( self.instance.current.index === 0 && !self.instance.current.opts.loop ) ) ) {\n\t\t\t\t\tleft = left + Math.pow( self.distanceX, 0.8 );\n\n\t\t\t\t} else if ( self.distanceX < 0 && ( self.instance.group.length < 2 || ( self.instance.current.index === self.instance.group.length - 1 && !self.instance.current.opts.loop ) ) ) {\n\t\t\t\t\tleft = left - Math.pow( -self.distanceX, 0.8 );\n\n\t\t\t\t} else {\n\t\t\t\t\tleft = left + self.distanceX;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tself.sliderLastPos = {\n\t\t\t\ttop  : swiping == 'x' ? 0 : self.sliderStartPos.top + self.distanceY,\n\t\t\t\tleft : left\n\t\t\t};\n\n\t\t\tif ( self.requestId ) {\n\t\t\t\tcancelAFrame( self.requestId );\n\n\t\t\t\tself.requestId = null;\n\t\t\t}\n\n\t\t\tself.requestId = requestAFrame(function() {\n\n\t\t\t\tif ( self.sliderLastPos ) {\n\t\t\t\t\t$.each(self.instance.slides, function( index, slide ) {\n\t\t\t\t\t\tvar pos = slide.pos - self.instance.currPos;\n\n\t\t\t\t\t\t$.fancybox.setTranslate( slide.$slide, {\n\t\t\t\t\t\t\ttop  : self.sliderLastPos.top,\n\t\t\t\t\t\t\tleft : self.sliderLastPos.left + ( pos * self.canvasWidth ) + ( pos * slide.opts.gutter )\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\tself.$container.addClass( 'fancybox-is-sliding' );\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t}\n\n\t};\n\n\tGuestures.prototype.onPan = function() {\n\n\t\tvar self = this;\n\n\t\tvar newOffsetX, newOffsetY, newPos;\n\n\t\tself.canTap = false;\n\n\t\tif ( self.contentStartPos.width > self.canvasWidth ) {\n\t\t\tnewOffsetX = self.contentStartPos.left + self.distanceX;\n\n\t\t} else {\n\t\t\tnewOffsetX = self.contentStartPos.left;\n\t\t}\n\n\t\tnewOffsetY = self.contentStartPos.top + self.distanceY;\n\n\t\tnewPos = self.limitMovement( newOffsetX, newOffsetY, self.contentStartPos.width, self.contentStartPos.height );\n\n\t\tnewPos.scaleX = self.contentStartPos.scaleX;\n\t\tnewPos.scaleY = self.contentStartPos.scaleY;\n\n\t\tself.contentLastPos = newPos;\n\n\t\tif ( self.requestId ) {\n\t\t\tcancelAFrame( self.requestId );\n\n\t\t\tself.requestId = null;\n\t\t}\n\n\t\tself.requestId = requestAFrame(function() {\n\t\t\t$.fancybox.setTranslate( self.$content, self.contentLastPos );\n\t\t});\n\t};\n\n\t// Make panning sticky to the edges\n\tGuestures.prototype.limitMovement = function( newOffsetX, newOffsetY, newWidth, newHeight ) {\n\n\t\tvar self = this;\n\n\t\tvar minTranslateX, minTranslateY, maxTranslateX, maxTranslateY;\n\n\t\tvar canvasWidth  = self.canvasWidth;\n\t\tvar canvasHeight = self.canvasHeight;\n\n\t\tvar currentOffsetX = self.contentStartPos.left;\n\t\tvar currentOffsetY = self.contentStartPos.top;\n\n\t\tvar distanceX = self.distanceX;\n\t\tvar distanceY = self.distanceY;\n\n\t\t// Slow down proportionally to traveled distance\n\n\t\tminTranslateX = Math.max(0, canvasWidth  * 0.5 - newWidth  * 0.5 );\n\t\tminTranslateY = Math.max(0, canvasHeight * 0.5 - newHeight * 0.5 );\n\n\t\tmaxTranslateX = Math.min( canvasWidth  - newWidth,  canvasWidth  * 0.5 - newWidth  * 0.5 );\n\t\tmaxTranslateY = Math.min( canvasHeight - newHeight, canvasHeight * 0.5 - newHeight * 0.5 );\n\n\t\tif ( newWidth > canvasWidth ) {\n\n\t\t\t//   ->\n\t\t\tif ( distanceX > 0 && newOffsetX > minTranslateX ) {\n\t\t\t\tnewOffsetX = minTranslateX - 1 + Math.pow( -minTranslateX + currentOffsetX + distanceX, 0.8 ) || 0;\n\t\t\t}\n\n\t\t\t//    <-\n\t\t\tif ( distanceX  < 0 && newOffsetX < maxTranslateX ) {\n\t\t\t\tnewOffsetX = maxTranslateX + 1 - Math.pow( maxTranslateX - currentOffsetX - distanceX, 0.8 ) || 0;\n\t\t\t}\n\n\t\t}\n\n\t\tif ( newHeight > canvasHeight ) {\n\n\t\t\t//   \\/\n\t\t\tif ( distanceY > 0 && newOffsetY > minTranslateY ) {\n\t\t\t\tnewOffsetY = minTranslateY - 1 + Math.pow(-minTranslateY + currentOffsetY + distanceY, 0.8 ) || 0;\n\t\t\t}\n\n\t\t\t//   /\\\n\t\t\tif ( distanceY < 0 && newOffsetY < maxTranslateY ) {\n\t\t\t\tnewOffsetY = maxTranslateY + 1 - Math.pow ( maxTranslateY - currentOffsetY - distanceY, 0.8 ) || 0;\n\t\t\t}\n\n\t\t}\n\n\t\treturn {\n\t\t\ttop  : newOffsetY,\n\t\t\tleft : newOffsetX\n\t\t};\n\n\t};\n\n\n\tGuestures.prototype.limitPosition = function( newOffsetX, newOffsetY, newWidth, newHeight ) {\n\n\t\tvar self = this;\n\n\t\tvar canvasWidth  = self.canvasWidth;\n\t\tvar canvasHeight = self.canvasHeight;\n\n\t\tif ( newWidth > canvasWidth ) {\n\t\t\tnewOffsetX = newOffsetX > 0 ? 0 : newOffsetX;\n\t\t\tnewOffsetX = newOffsetX < canvasWidth - newWidth ? canvasWidth - newWidth : newOffsetX;\n\n\t\t} else {\n\n\t\t\t// Center horizontally\n\t\t\tnewOffsetX = Math.max( 0, canvasWidth / 2 - newWidth / 2 );\n\n\t\t}\n\n\t\tif ( newHeight > canvasHeight ) {\n\t\t\tnewOffsetY = newOffsetY > 0 ? 0 : newOffsetY;\n\t\t\tnewOffsetY = newOffsetY < canvasHeight - newHeight ? canvasHeight - newHeight : newOffsetY;\n\n\t\t} else {\n\n\t\t\t// Center vertically\n\t\t\tnewOffsetY = Math.max( 0, canvasHeight / 2 - newHeight / 2 );\n\n\t\t}\n\n\t\treturn {\n\t\t\ttop  : newOffsetY,\n\t\t\tleft : newOffsetX\n\t\t};\n\n\t};\n\n\tGuestures.prototype.onZoom = function() {\n\n\t\tvar self = this;\n\n\t\t// Calculate current distance between points to get pinch ratio and new width and height\n\n\t\tvar currentWidth  = self.contentStartPos.width;\n\t\tvar currentHeight = self.contentStartPos.height;\n\n\t\tvar currentOffsetX = self.contentStartPos.left;\n\t\tvar currentOffsetY = self.contentStartPos.top;\n\n\t\tvar endDistanceBetweenFingers = distance( self.newPoints[0], self.newPoints[1] );\n\n\t\tvar pinchRatio = endDistanceBetweenFingers / self.startDistanceBetweenFingers;\n\n\t\tvar newWidth  = Math.floor( currentWidth  * pinchRatio );\n\t\tvar newHeight = Math.floor( currentHeight * pinchRatio );\n\n\t\t// This is the translation due to pinch-zooming\n\t\tvar translateFromZoomingX = (currentWidth  - newWidth)  * self.percentageOfImageAtPinchPointX;\n\t\tvar translateFromZoomingY = (currentHeight - newHeight) * self.percentageOfImageAtPinchPointY;\n\n\t\t//Point between the two touches\n\n\t\tvar centerPointEndX = ((self.newPoints[0].x + self.newPoints[1].x) / 2) - $(window).scrollLeft();\n\t\tvar centerPointEndY = ((self.newPoints[0].y + self.newPoints[1].y) / 2) - $(window).scrollTop();\n\n\t\t// And this is the translation due to translation of the centerpoint\n\t\t// between the two fingers\n\n\t\tvar translateFromTranslatingX = centerPointEndX - self.centerPointStartX;\n\t\tvar translateFromTranslatingY = centerPointEndY - self.centerPointStartY;\n\n\t\t// The new offset is the old/current one plus the total translation\n\n\t\tvar newOffsetX = currentOffsetX + ( translateFromZoomingX + translateFromTranslatingX );\n\t\tvar newOffsetY = currentOffsetY + ( translateFromZoomingY + translateFromTranslatingY );\n\n\t\tvar newPos = {\n\t\t\ttop    : newOffsetY,\n\t\t\tleft   : newOffsetX,\n\t\t\tscaleX : self.contentStartPos.scaleX * pinchRatio,\n\t\t\tscaleY : self.contentStartPos.scaleY * pinchRatio\n\t\t};\n\n\t\tself.canTap = false;\n\n\t\tself.newWidth  = newWidth;\n\t\tself.newHeight = newHeight;\n\n\t\tself.contentLastPos = newPos;\n\n\t\tif ( self.requestId ) {\n\t\t\tcancelAFrame( self.requestId );\n\n\t\t\tself.requestId = null;\n\t\t}\n\n\t\tself.requestId = requestAFrame(function() {\n\t\t\t$.fancybox.setTranslate( self.$content, self.contentLastPos );\n\t\t});\n\n\t};\n\n\tGuestures.prototype.ontouchend = function( e ) {\n\n\t\tvar self = this;\n\t\tvar dMs  = Math.max( (new Date().getTime() ) - self.startTime, 1);\n\n\t\tvar swiping = self.isSwiping;\n\t\tvar panning = self.isPanning;\n\t\tvar zooming = self.isZooming;\n\n\t\tself.endPoints = pointers( e );\n\n\t\tself.$container.removeClass( 'fancybox-controls--isGrabbing' );\n\n\t\t$(document).off( '.fb.touch' );\n\n\t\tif ( self.requestId ) {\n\t\t\tcancelAFrame( self.requestId );\n\n\t\t\tself.requestId = null;\n\t\t}\n\n\t\tself.isSwiping = false;\n\t\tself.isPanning = false;\n\t\tself.isZooming = false;\n\n\t\tif ( self.canTap )  {\n\t\t\treturn self.onTap( e );\n\t\t}\n\n\t\tself.speed = 366;\n\n\t\t// Speed in px/ms\n\t\tself.velocityX = self.distanceX / dMs * 0.5;\n\t\tself.velocityY = self.distanceY / dMs * 0.5;\n\n\t\tself.speedX = Math.max( self.speed * 0.5, Math.min( self.speed * 1.5, ( 1 / Math.abs( self.velocityX ) ) * self.speed ) );\n\n\t\tif ( panning ) {\n\t\t\tself.endPanning();\n\n\t\t} else if ( zooming ) {\n\t\t\tself.endZooming();\n\n\t\t} else {\n\t\t\tself.endSwiping( swiping );\n\t\t}\n\n\t\treturn;\n\t};\n\n\tGuestures.prototype.endSwiping = function( swiping ) {\n\n\t\tvar self = this;\n\t\tvar ret = false;\n\n\t\tself.instance.isSliding = false;\n\t\tself.sliderLastPos      = null;\n\n\t\t// Close if swiped vertically / navigate if horizontally\n\t\tif ( swiping == 'y' && Math.abs( self.distanceY ) > 50 ) {\n\n\t\t\t// Continue vertical movement\n\t\t\t$.fancybox.animate( self.instance.current.$slide, {\n\t\t\t\ttop     : self.sliderStartPos.top + self.distanceY + ( self.velocityY * 150 ),\n\t\t\t\topacity : 0\n\t\t\t}, 150 );\n\n\t\t\tret = self.instance.close( true, 300 );\n\n\t\t} else if ( swiping == 'x' && self.distanceX > 50 && self.instance.group.length > 1 ) {\n\t\t\tret = self.instance.previous( self.speedX );\n\n\t\t} else if ( swiping == 'x' && self.distanceX < -50  && self.instance.group.length > 1 ) {\n\t\t\tret = self.instance.next( self.speedX );\n\t\t}\n\n\t\tif ( ret === false && ( swiping == 'x' || swiping == 'y' ) ) {\n\t\t\tself.instance.jumpTo( self.instance.current.index, 150 );\n\t\t}\n\n\t\tself.$container.removeClass( 'fancybox-is-sliding' );\n\n\t};\n\n\t// Limit panning from edges\n\t// ========================\n\n\tGuestures.prototype.endPanning = function() {\n\n\t\tvar self = this;\n\t\tvar newOffsetX, newOffsetY, newPos;\n\n\t\tif ( !self.contentLastPos ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( self.instance.current.opts.touch.momentum === false ) {\n\t\t\tnewOffsetX = self.contentLastPos.left;\n\t\t\tnewOffsetY = self.contentLastPos.top;\n\n\t\t} else {\n\n\t\t\t// Continue movement\n\t\t\tnewOffsetX = self.contentLastPos.left + ( self.velocityX * self.speed );\n\t\t\tnewOffsetY = self.contentLastPos.top  + ( self.velocityY * self.speed );\n\t\t}\n\n\t\tnewPos = self.limitPosition( newOffsetX, newOffsetY, self.contentStartPos.width, self.contentStartPos.height );\n\n\t\t newPos.width  = self.contentStartPos.width;\n\t\t newPos.height = self.contentStartPos.height;\n\n\t\t$.fancybox.animate( self.$content, newPos, 330 );\n\t};\n\n\n\tGuestures.prototype.endZooming = function() {\n\n\t\tvar self = this;\n\n\t\tvar current = self.instance.current;\n\n\t\tvar newOffsetX, newOffsetY, newPos, reset;\n\n\t\tvar newWidth  = self.newWidth;\n\t\tvar newHeight = self.newHeight;\n\n\t\tif ( !self.contentLastPos ) {\n\t\t\treturn;\n\t\t}\n\n\t\tnewOffsetX = self.contentLastPos.left;\n\t\tnewOffsetY = self.contentLastPos.top;\n\n\t\treset = {\n\t\t   \ttop    : newOffsetY,\n\t\t   \tleft   : newOffsetX,\n\t\t   \twidth  : newWidth,\n\t\t   \theight : newHeight,\n\t\t\tscaleX : 1,\n\t\t\tscaleY : 1\n\t   };\n\n\t   // Reset scalex/scaleY values; this helps for perfomance and does not break animation\n\t   $.fancybox.setTranslate( self.$content, reset );\n\n\t\tif ( newWidth < self.canvasWidth && newHeight < self.canvasHeight ) {\n\t\t\tself.instance.scaleToFit( 150 );\n\n\t\t} else if ( newWidth > current.width || newHeight > current.height ) {\n\t\t\tself.instance.scaleToActual( self.centerPointStartX, self.centerPointStartY, 150 );\n\n\t\t} else {\n\n\t\t\tnewPos = self.limitPosition( newOffsetX, newOffsetY, newWidth, newHeight );\n\n\t\t\t// Switch from scale() to width/height or animation will not work correctly\n\t\t\t$.fancybox.setTranslate( self.content, $.fancybox.getTranslate( self.$content ) );\n\n\t\t\t$.fancybox.animate( self.$content, newPos, 150 );\n\t\t}\n\n\t};\n\n\tGuestures.prototype.onTap = function(e) {\n\t\tvar self    = this;\n\t\tvar $target = $( e.target );\n\n\t\tvar instance = self.instance;\n\t\tvar current  = instance.current;\n\n\t\tvar endPoints = ( e && pointers( e ) ) || self.startPoints;\n\n\t\tvar tapX = endPoints[0] ? endPoints[0].x - self.$stage.offset().left : 0;\n\t\tvar tapY = endPoints[0] ? endPoints[0].y - self.$stage.offset().top  : 0;\n\n\t\tvar where;\n\n\t\tvar process = function ( prefix ) {\n\n\t\t\tvar action = current.opts[ prefix ];\n\n\t\t\tif ( $.isFunction( action ) ) {\n\t\t\t\taction = action.apply( instance, [ current, e ] );\n\t\t\t}\n\n\t\t\tif ( !action) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tswitch ( action ) {\n\n\t\t\t\tcase \"close\" :\n\n\t\t\t\t\tinstance.close( self.startEvent );\n\n\t\t\t\tbreak;\n\n\t\t\t\tcase \"toggleControls\" :\n\n\t\t\t\t\tinstance.toggleControls( true );\n\n\t\t\t\tbreak;\n\n\t\t\t\tcase \"next\" :\n\n\t\t\t\t\tinstance.next();\n\n\t\t\t\tbreak;\n\n\t\t\t\tcase \"nextOrClose\" :\n\n\t\t\t\t\tif ( instance.group.length > 1 ) {\n\t\t\t\t\t\tinstance.next();\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tinstance.close( self.startEvent );\n\t\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\t\tcase \"zoom\" :\n\n\t\t\t\t\tif ( current.type == 'image' && ( current.isLoaded || current.$ghost ) ) {\n\n\t\t\t\t\t\tif ( instance.canPan() ) {\n\t\t\t\t\t\t\tinstance.scaleToFit();\n\n\t\t\t\t\t\t} else if ( instance.isScaledDown() ) {\n\t\t\t\t\t\t\tinstance.scaleToActual( tapX, tapY );\n\n\t\t\t\t\t\t} else if ( instance.group.length < 2 ) {\n\t\t\t\t\t\t\tinstance.close( self.startEvent );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t};\n\n\t\t// Ignore right click\n\t\tif ( e.originalEvent && e.originalEvent.button == 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Skip if current slide is not in the center\n\t\tif ( instance.isSliding ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Skip if clicked on the scrollbar\n\t\tif ( tapX > $target[0].clientWidth + $target.offset().left ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Check where is clicked\n\t\tif ( $target.is( '.fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container' ) ) {\n\t\t\twhere = 'Outside';\n\n\t\t} else if ( $target.is( '.fancybox-slide' ) ) {\n\t\t\twhere = 'Slide';\n\n\t\t} else if  ( instance.current.$content && instance.current.$content.has( e.target ).length ) {\n\t\t \twhere = 'Content';\n\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\n\t\t// Check if this is a double tap\n\t\tif ( self.tapped ) {\n\n\t\t\t// Stop previously created single tap\n\t\t\tclearTimeout( self.tapped );\n\t\t\tself.tapped = null;\n\n\t\t\t// Skip if distance between taps is too big\n\t\t\tif ( Math.abs( tapX - self.tapX ) > 50 || Math.abs( tapY - self.tapY ) > 50 || instance.isSliding ) {\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\t// OK, now we assume that this is a double-tap\n\t\t\tprocess( 'dblclick' + where );\n\n\t\t} else {\n\n\t\t\t// Single tap will be processed if user has not clicked second time within 300ms\n\t\t\t// or there is no need to wait for double-tap\n\t\t\tself.tapX = tapX;\n\t\t\tself.tapY = tapY;\n\n\t\t\tif ( current.opts[ 'dblclick' + where ] && current.opts[ 'dblclick' + where ] !== current.opts[ 'click' + where ] ) {\n\t\t\t\tself.tapped = setTimeout(function() {\n\t\t\t\t\tself.tapped = null;\n\n\t\t\t\t\tprocess( 'click' + where );\n\n\t\t\t\t}, 300);\n\n\t\t\t} else {\n\t\t\t\tprocess( 'click' + where );\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\t};\n\n\t$(document).on('onActivate.fb', function (e, instance) {\n\t\tif ( instance && !instance.Guestures ) {\n\t\t\tinstance.Guestures = new Guestures( instance );\n\t\t}\n\t});\n\n\t$(document).on('beforeClose.fb', function (e, instance) {\n\t\tif ( instance && instance.Guestures ) {\n\t\t\tinstance.Guestures.destroy();\n\t\t}\n\t});\n\n\n}(window, document, window.jQuery));\n\n// ==========================================================================\n//\n// SlideShow\n// Enables slideshow functionality\n//\n// Example of usage:\n// $.fancybox.getInstance().SlideShow.start()\n//\n// ==========================================================================\n;(function (document, $) {\n\t'use strict';\n\n\tvar SlideShow = function( instance ) {\n\t\tthis.instance = instance;\n\t\tthis.init();\n\t};\n\n\t$.extend( SlideShow.prototype, {\n\t\ttimer    : null,\n\t\tisActive : false,\n\t\t$button  : null,\n\t\tspeed    : 3000,\n\n\t\tinit : function() {\n\t\t\tvar self = this;\n\n\t\t\tself.$button = self.instance.$refs.toolbar.find('[data-fancybox-play]').on('click', function() {\n\t\t\t\tself.toggle();\n\t\t\t});\n\n\t\t\tif ( self.instance.group.length < 2 || !self.instance.group[ self.instance.currIndex ].opts.slideShow ) {\n\t\t\t\tself.$button.hide();\n\t\t\t}\n\t\t},\n\n\t\tset : function() {\n\t\t\tvar self = this;\n\n\t\t\t// Check if reached last element\n\t\t\tif ( self.instance && self.instance.current && (self.instance.current.opts.loop || self.instance.currIndex < self.instance.group.length - 1 )) {\n\t\t\t\tself.timer = setTimeout(function() {\n\t\t\t\t\tself.instance.next();\n\n\t\t\t\t}, self.instance.current.opts.slideShow.speed || self.speed);\n\n\t\t\t} else {\n\t\t\t\tself.stop();\n\t\t\t\tself.instance.idleSecondsCounter = 0;\n\t\t\t\tself.instance.showControls();\n\t\t\t}\n\n\t\t},\n\n\t\tclear : function() {\n\t\t\tvar self = this;\n\n\t\t\tclearTimeout( self.timer );\n\n\t\t\tself.timer = null;\n\t\t},\n\n\t\tstart : function() {\n\t\t\tvar self = this;\n\t\t\tvar current = self.instance.current;\n\n\t\t\tif ( self.instance && current && ( current.opts.loop || current.index < self.instance.group.length - 1 )) {\n\n\t\t\t\tself.isActive = true;\n\n\t\t\t\tself.$button\n\t\t\t\t\t.attr( 'title', current.opts.i18n[ current.opts.lang ].PLAY_STOP )\n\t\t\t\t\t.addClass( 'fancybox-button--pause' );\n\n\t\t\t\tif ( current.isComplete ) {\n\t\t\t\t\tself.set();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tstop : function() {\n\t\t\tvar self = this;\n\t\t\tvar current = self.instance.current;\n\n\t\t\tself.clear();\n\n\t\t\tself.$button\n\t\t\t\t.attr( 'title', current.opts.i18n[ current.opts.lang ].PLAY_START )\n\t\t\t\t.removeClass( 'fancybox-button--pause' );\n\n\t\t\tself.isActive = false;\n\t\t},\n\n\t\ttoggle : function() {\n\t\t\tvar self = this;\n\n\t\t\tif ( self.isActive ) {\n\t\t\t\tself.stop();\n\n\t\t\t} else {\n\t\t\t\tself.start();\n\t\t\t}\n\t\t}\n\n\t});\n\n\t$(document).on({\n\t\t'onInit.fb' : function(e, instance) {\n\t\t\tif ( instance && !instance.SlideShow ) {\n\t\t\t\tinstance.SlideShow = new SlideShow( instance );\n\t\t\t}\n\t\t},\n\n\t\t'beforeShow.fb' : function(e, instance, current, firstRun) {\n\t\t\tvar SlideShow = instance && instance.SlideShow;\n\n\t\t\tif ( firstRun ) {\n\n\t\t\t\tif ( SlideShow && current.opts.slideShow.autoStart ) {\n\t\t\t\t\tSlideShow.start();\n\t\t\t\t}\n\n\t\t\t} else if ( SlideShow && SlideShow.isActive )  {\n\t\t\t\tSlideShow.clear();\n\t\t\t}\n\t\t},\n\n\t\t'afterShow.fb' : function(e, instance, current) {\n\t\t\tvar SlideShow = instance && instance.SlideShow;\n\n\t\t\tif ( SlideShow && SlideShow.isActive ) {\n\t\t\t\tSlideShow.set();\n\t\t\t}\n\t\t},\n\n\t\t'afterKeydown.fb' : function(e, instance, current, keypress, keycode) {\n\t\t\tvar SlideShow = instance && instance.SlideShow;\n\n\t\t\t// \"P\" or Spacebar\n\t\t\tif ( SlideShow && current.opts.slideShow && ( keycode === 80 || keycode === 32 ) && !$(document.activeElement).is( 'button,a,input' ) ) {\n\t\t\t\tkeypress.preventDefault();\n\n\t\t\t\tSlideShow.toggle();\n\t\t\t}\n\t\t},\n\n\t\t'beforeClose.fb onDeactivate.fb' : function(e, instance) {\n\t\t\tvar SlideShow = instance && instance.SlideShow;\n\n\t\t\tif ( SlideShow ) {\n\t\t\t\tSlideShow.stop();\n\t\t\t}\n\t\t}\n\t});\n\n\t// Page Visibility API to pause slideshow when window is not active\n\t$(document).on(\"visibilitychange\", function() {\n\t\tvar instance  = $.fancybox.getInstance();\n\t\tvar SlideShow = instance && instance.SlideShow;\n\n\t\tif ( SlideShow && SlideShow.isActive ) {\n\t\t\tif ( document.hidden ) {\n\t\t\t\tSlideShow.clear();\n\n\t\t\t} else {\n\t\t\t\tSlideShow.set();\n\t\t\t}\n\t\t}\n\t});\n\n}(document, window.jQuery));\n\n// ==========================================================================\n//\n// FullScreen\n// Adds fullscreen functionality\n//\n// ==========================================================================\n;(function (document, $) {\n\t'use strict';\n\n\t// Collection of methods supported by user browser\n\tvar fn = (function () {\n\n\t\tvar fnMap = [\n\t\t\t[\n\t\t\t\t'requestFullscreen',\n\t\t\t\t'exitFullscreen',\n\t\t\t\t'fullscreenElement',\n\t\t\t\t'fullscreenEnabled',\n\t\t\t\t'fullscreenchange',\n\t\t\t\t'fullscreenerror'\n\t\t\t],\n\t\t\t// new WebKit\n\t\t\t[\n\t\t\t\t'webkitRequestFullscreen',\n\t\t\t\t'webkitExitFullscreen',\n\t\t\t\t'webkitFullscreenElement',\n\t\t\t\t'webkitFullscreenEnabled',\n\t\t\t\t'webkitfullscreenchange',\n\t\t\t\t'webkitfullscreenerror'\n\n\t\t\t],\n\t\t\t// old WebKit (Safari 5.1)\n\t\t\t[\n\t\t\t\t'webkitRequestFullScreen',\n\t\t\t\t'webkitCancelFullScreen',\n\t\t\t\t'webkitCurrentFullScreenElement',\n\t\t\t\t'webkitCancelFullScreen',\n\t\t\t\t'webkitfullscreenchange',\n\t\t\t\t'webkitfullscreenerror'\n\n\t\t\t],\n\t\t\t[\n\t\t\t\t'mozRequestFullScreen',\n\t\t\t\t'mozCancelFullScreen',\n\t\t\t\t'mozFullScreenElement',\n\t\t\t\t'mozFullScreenEnabled',\n\t\t\t\t'mozfullscreenchange',\n\t\t\t\t'mozfullscreenerror'\n\t\t\t],\n\t\t\t[\n\t\t\t\t'msRequestFullscreen',\n\t\t\t\t'msExitFullscreen',\n\t\t\t\t'msFullscreenElement',\n\t\t\t\t'msFullscreenEnabled',\n\t\t\t\t'MSFullscreenChange',\n\t\t\t\t'MSFullscreenError'\n\t\t\t]\n\t\t];\n\n\t\tvar val;\n\t\tvar ret = {};\n\t\tvar i, j;\n\n\t\tfor ( i = 0; i < fnMap.length; i++ ) {\n\t\t\tval = fnMap[ i ];\n\n\t\t\tif ( val && val[ 1 ] in document ) {\n\t\t\t\tfor ( j = 0; j < val.length; j++ ) {\n\t\t\t\t\tret[ fnMap[ 0 ][ j ] ] = val[ j ];\n\t\t\t\t}\n\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t})();\n\n\t// If browser does not have Full Screen API, then simply unset default button template and stop\n\tif ( !fn ) {\n\n\t\tif ( $ && $.fancybox ) {\n\t\t\t$.fancybox.defaults.btnTpl.fullScreen = false;\n\t\t}\n\n\t\treturn;\n\t}\n\n\tvar FullScreen = {\n\n\t\trequest : function ( elem ) {\n\n\t\t\telem = elem || document.documentElement;\n\n\t\t\telem[ fn.requestFullscreen ]( elem.ALLOW_KEYBOARD_INPUT );\n\n\t\t},\n\t\texit : function () {\n\n\t\t\tdocument[ fn.exitFullscreen ]();\n\n\t\t},\n\t\ttoggle : function ( elem ) {\n\n\t\t\telem = elem || document.documentElement;\n\n\t\t\tif ( this.isFullscreen() ) {\n\t\t\t\tthis.exit();\n\n\t\t\t} else {\n\t\t\t\tthis.request( elem );\n\t\t\t}\n\n\t\t},\n\t\tisFullscreen : function()  {\n\n\t\t\treturn Boolean( document[ fn.fullscreenElement ] );\n\n\t\t},\n\t\tenabled : function()  {\n\n\t\t\treturn Boolean( document[ fn.fullscreenEnabled ] );\n\n\t\t}\n\t};\n\n\t$(document).on({\n\t\t'onInit.fb' : function(e, instance) {\n\t\t\tvar $container;\n\n\t\t\tvar $button = instance.$refs.toolbar.find('[data-fancybox-fullscreen]');\n\n\t\t\tif ( instance && !instance.FullScreen && instance.group[ instance.currIndex ].opts.fullScreen ) {\n\t\t\t\t$container = instance.$refs.container;\n\n\t\t\t\t$container.on('click.fb-fullscreen', '[data-fancybox-fullscreen]', function(e) {\n\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\tFullScreen.toggle( $container[ 0 ] );\n\n\t\t\t\t});\n\n\t\t\t\tif ( instance.opts.fullScreen && instance.opts.fullScreen.autoStart === true ) {\n\t\t\t\t\tFullScreen.request( $container[ 0 ] );\n\t\t\t\t}\n\n\t\t\t\t// Expose API\n\t\t\t\tinstance.FullScreen = FullScreen;\n\n\t\t\t} else {\n\t\t\t\t$button.hide();\n\t\t\t}\n\n\t\t},\n\n\t\t'afterKeydown.fb' : function(e, instance, current, keypress, keycode) {\n\n\t\t\t// \"P\" or Spacebar\n\t\t\tif ( instance && instance.FullScreen && keycode === 70 ) {\n\t\t\t\tkeypress.preventDefault();\n\n\t\t\t\tinstance.FullScreen.toggle( instance.$refs.container[ 0 ] );\n\t\t\t}\n\n\t\t},\n\n\t\t'beforeClose.fb' : function( instance ) {\n\t\t\tif ( instance && instance.FullScreen ) {\n\t\t\t\tFullScreen.exit();\n\t\t\t}\n\t\t}\n\t});\n\n\t$(document).on(fn.fullscreenchange, function() {\n\t\tvar instance = $.fancybox.getInstance();\n\n\t\t// If image is zooming, then force to stop and reposition properly\n\t\tif ( instance.current && instance.current.type === 'image' && instance.isAnimating ) {\n\t\t\tinstance.current.$content.css( 'transition', 'none' );\n\n\t\t\tinstance.isAnimating = false;\n\n\t\t\tinstance.update( true, true, 0 );\n\t\t}\n\n\t\tinstance.trigger('onFullscreenChange', FullScreen.isFullscreen() );\n\n\t});\n\n}(document, window.jQuery));\n\n// ==========================================================================\n//\n// Thumbs\n// Displays thumbnails in a grid\n//\n// ==========================================================================\n;(function (document, $) {\n\t'use strict';\n\n\tvar FancyThumbs = function( instance ) {\n\t\tthis.instance = instance;\n\t\tthis.init();\n\t};\n\n\t$.extend( FancyThumbs.prototype, {\n\n\t\t$button\t\t: null,\n\t\t$grid\t\t: null,\n\t\t$list\t\t: null,\n\t\tisVisible\t: false,\n\n\t\tinit : function() {\n\t\t\tvar self = this;\n\n\t\t\tvar first  = self.instance.group[0],\n\t\t\t\tsecond = self.instance.group[1];\n\n\t\t\tself.$button = self.instance.$refs.toolbar.find( '[data-fancybox-thumbs]' );\n\n\t\t\tif ( self.instance.group.length > 1 && self.instance.group[ self.instance.currIndex ].opts.thumbs && (\n\t\t    \t\t( first.type == 'image'  || first.opts.thumb  || first.opts.$thumb ) &&\n\t\t    \t\t( second.type == 'image' || second.opts.thumb || second.opts.$thumb )\n\t\t\t)) {\n\n\t\t\t\tself.$button.on('click', function() {\n\t\t\t\t\tself.toggle();\n\t\t\t\t});\n\n\t\t\t\tself.isActive = true;\n\n\t\t\t} else {\n\t\t\t\tself.$button.hide();\n\n\t\t\t\tself.isActive = false;\n\t\t\t}\n\n\t\t},\n\n\t\tcreate : function() {\n\t\t\tvar instance = this.instance,\n\t\t\t\tlist,\n\t\t\t\tsrc;\n\n\t\t\tthis.$grid = $('<div class=\"fancybox-thumbs\"></div>').appendTo( instance.$refs.container );\n\n\t\t\tlist = '<ul>';\n\n\t\t\t$.each(instance.group, function( i, item ) {\n\n\t\t\t\tsrc = item.opts.thumb || ( item.opts.$thumb ? item.opts.$thumb.attr('src') : null );\n\n\t\t\t\tif ( !src && item.type === 'image' ) {\n\t\t\t\t\tsrc = item.src;\n\t\t\t\t}\n\n\t\t\t\tif ( src && src.length ) {\n\t\t\t\t\tlist += '<li data-index=\"' + i + '\"  tabindex=\"0\" class=\"fancybox-thumbs-loading\"><img data-src=\"' + src + '\" /></li>';\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\tlist += '</ul>';\n\n\t\t\tthis.$list = $( list ).appendTo( this.$grid ).on('click', 'li', function() {\n\t\t\t\tinstance.jumpTo( $(this).data('index') );\n\t\t\t});\n\n\t\t\tthis.$list.find('img').hide().one('load', function() {\n\n\t\t\t\tvar $parent\t\t= $(this).parent().removeClass('fancybox-thumbs-loading'),\n\t\t\t\t\tthumbWidth\t= $parent.outerWidth(),\n\t\t\t\t\tthumbHeight\t= $parent.outerHeight(),\n\t\t\t\t\twidth,\n\t\t\t\t\theight,\n\t\t\t\t\twidthRatio,\n\t\t\t\t\theightRatio;\n\n\t\t\t\twidth  = this.naturalWidth\t|| this.width;\n\t\t\t\theight = this.naturalHeight\t|| this.height;\n\n\t\t\t\t//Calculate thumbnail width/height and center it\n\n\t\t\t\twidthRatio  = width  / thumbWidth;\n\t\t\t\theightRatio = height / thumbHeight;\n\n\t\t\t\tif (widthRatio >= 1 && heightRatio >= 1) {\n\t\t\t\t\tif (widthRatio > heightRatio) {\n\t\t\t\t\t\twidth  = width / heightRatio;\n\t\t\t\t\t\theight = thumbHeight;\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\twidth  = thumbWidth;\n\t\t\t\t\t\theight = height / widthRatio;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$(this).css({\n\t\t\t\t\twidth         : Math.floor(width),\n\t\t\t\t\theight        : Math.floor(height),\n\t\t\t\t\t'margin-top'  : Math.min( 0, Math.floor(thumbHeight * 0.3 - height * 0.3 ) ),\n\t\t\t\t\t'margin-left' : Math.min( 0, Math.floor(thumbWidth  * 0.5 - width  * 0.5 ) )\n\t\t\t\t}).show();\n\n\t\t\t})\n\t\t\t.each(function() {\n\t\t\t\tthis.src = $( this ).data( 'src' );\n\t\t\t});\n\n\t\t},\n\n\t\tfocus : function() {\n\n\t\t\tif ( this.instance.current ) {\n\t\t\t\tthis.$list\n\t\t\t\t\t.children()\n\t\t\t\t\t.removeClass('fancybox-thumbs-active')\n\t\t\t\t\t.filter('[data-index=\"' + this.instance.current.index  + '\"]')\n\t\t\t\t\t.addClass('fancybox-thumbs-active')\n\t\t\t\t\t.focus();\n\t\t\t}\n\n\t\t},\n\n\t\tclose : function() {\n\t\t\tthis.$grid.hide();\n\t\t},\n\n\t\tupdate : function() {\n\n\t\t\tthis.instance.$refs.container.toggleClass( 'fancybox-show-thumbs', this.isVisible );\n\n\t\t\tif ( this.isVisible ) {\n\n\t\t\t\tif ( !this.$grid ) {\n\t\t\t\t\tthis.create();\n\t\t\t\t}\n\n\t\t\t\tthis.instance.trigger( 'onThumbsShow' );\n\n\t\t\t\tthis.focus();\n\n\t\t\t} else if ( this.$grid ) {\n\t\t\t\tthis.instance.trigger( 'onThumbsHide' );\n\t\t\t}\n\n\t\t\t// Update content position\n\t\t\tthis.instance.update();\n\n\t\t},\n\n\t\thide : function() {\n\t\t\tthis.isVisible = false;\n\t\t\tthis.update();\n\t\t},\n\n\t\tshow : function() {\n\t\t\tthis.isVisible = true;\n\t\t\tthis.update();\n\t\t},\n\n\t\ttoggle : function() {\n\t\t\tthis.isVisible = !this.isVisible;\n\t\t\tthis.update();\n\t\t}\n\n\t});\n\n\t$(document).on({\n\n\t\t'onInit.fb' : function(e, instance) {\n\t\t\tif ( instance && !instance.Thumbs ) {\n\t\t\t\tinstance.Thumbs = new FancyThumbs( instance );\n\t\t\t}\n\t\t},\n\n\t\t'beforeShow.fb' : function(e, instance, item, firstRun) {\n\t\t\tvar Thumbs = instance && instance.Thumbs;\n\n\t\t\tif ( !Thumbs || !Thumbs.isActive ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( item.modal ) {\n\t\t\t\tThumbs.$button.hide();\n\n\t\t\t\tThumbs.hide();\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( firstRun && instance.opts.thumbs.autoStart === true ) {\n\t\t\t\tThumbs.show();\n\t\t\t}\n\n\t\t\tif ( Thumbs.isVisible ) {\n\t\t\t\tThumbs.focus();\n\t\t\t}\n\t\t},\n\n\t\t'afterKeydown.fb' : function(e, instance, current, keypress, keycode) {\n\t\t\tvar Thumbs = instance && instance.Thumbs;\n\n\t\t\t// \"G\"\n\t\t\tif ( Thumbs && Thumbs.isActive && keycode === 71 ) {\n\t\t\t\tkeypress.preventDefault();\n\n\t\t\t\tThumbs.toggle();\n\t\t\t}\n\t\t},\n\n\t\t'beforeClose.fb' : function( e, instance ) {\n\t\t\tvar Thumbs = instance && instance.Thumbs;\n\n\t\t\tif ( Thumbs && Thumbs.isVisible && instance.opts.thumbs.hideOnClose !== false ) {\n\t\t\t\tThumbs.close();\n\t\t\t}\n\t\t}\n\n\t});\n\n}(document, window.jQuery));\n\n// ==========================================================================\n//\n// Hash\n// Enables linking to each modal\n//\n// ==========================================================================\n;(function (document, window, $) {\n\t'use strict';\n\n\t// Simple $.escapeSelector polyfill (for jQuery prior v3)\n\tif ( !$.escapeSelector ) {\n\t\t$.escapeSelector = function( sel ) {\n\t\t\tvar rcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\x80-\\uFFFF\\w-]/g;\n\t\t\tvar fcssescape = function( ch, asCodePoint ) {\n\t\t\t\tif ( asCodePoint ) {\n\t\t\t\t\t// U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\n\t\t\t\t\tif ( ch === \"\\0\" ) {\n\t\t\t\t\t\treturn \"\\uFFFD\";\n\t\t\t\t\t}\n\n\t\t\t\t\t// Control characters and (dependent upon position) numbers get escaped as code points\n\t\t\t\t\treturn ch.slice( 0, -1 ) + \"\\\\\" + ch.charCodeAt( ch.length - 1 ).toString( 16 ) + \" \";\n\t\t\t\t}\n\n\t\t\t\t// Other potentially-special ASCII characters get backslash-escaped\n\t\t\t\treturn \"\\\\\" + ch;\n\t\t\t};\n\n\t\t\treturn ( sel + \"\" ).replace( rcssescape, fcssescape );\n\t\t};\n\t}\n\n\t// Create new history entry only once\n\tvar shouldCreateHistory = true;\n\n\t// Variable containing last hash value set by fancyBox\n\t// It will be used to determine if fancyBox needs to close after hash change is detected\n    var currentHash = null;\n\n\t// Throttling the history change\n\tvar timerID = null;\n\n\t// Get info about gallery name and current index from url\n    function parseUrl() {\n        var hash    = window.location.hash.substr( 1 );\n        var rez     = hash.split( '-' );\n        var index   = rez.length > 1 && /^\\+?\\d+$/.test( rez[ rez.length - 1 ] ) ? parseInt( rez.pop( -1 ), 10 ) || 1 : 1;\n        var gallery = rez.join( '-' );\n\n\t\t// Index is starting from 1\n\t\tif ( index < 1 ) {\n\t\t\tindex = 1;\n\t\t}\n\n        return {\n            hash    : hash,\n            index   : index,\n            gallery : gallery\n        };\n    }\n\n\t// Trigger click evnt on links to open new fancyBox instance\n\tfunction triggerFromUrl( url ) {\n\t\tvar $el;\n\n        if ( url.gallery !== '' ) {\n\n\t\t\t// If we can find element matching 'data-fancybox' atribute, then trigger click event for that ..\n\t\t\t$el = $( \"[data-fancybox='\" + $.escapeSelector( url.gallery ) + \"']\" ).eq( url.index - 1 );\n\n            if ( !$el.length ) {\n\t\t\t\t// .. if not, try finding element by ID\n\t\t\t\t$el = $( \"#\" + $.escapeSelector( url.gallery ) + \"\" );\n\t\t\t}\n\n\t\t\tif ( $el.length ) {\n\t\t\t\tshouldCreateHistory = false;\n\n\t\t\t\t$el.trigger( 'click' );\n\t\t\t}\n\n        }\n\t}\n\n\t// Get gallery name from current instance\n\tfunction getGalleryID( instance ) {\n\t\tvar opts;\n\n\t\tif ( !instance ) {\n\t\t\treturn false;\n\t\t}\n\n\t\topts = instance.current ? instance.current.opts : instance.opts;\n\n\t\treturn opts.hash || ( opts.$orig ? opts.$orig.data( 'fancybox' ) : ''  );\n\t}\n\n\t// Star when DOM becomes ready\n    $(function() {\n\n\t\t// Small delay is used to allow other scripts to process \"dom ready\" event\n\t\tsetTimeout(function() {\n\n\t\t\t// Check if this module is not disabled\n\t\t\tif ( $.fancybox.defaults.hash === false ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Update hash when opening/closing fancyBox\n\t\t    $(document).on({\n\t\t\t\t'onInit.fb' : function( e, instance ) {\n\t\t\t\t\tvar url, gallery;\n\n\t\t\t\t\tif ( instance.group[ instance.currIndex ].opts.hash === false ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\turl     = parseUrl();\n\t\t\t\t\tgallery = getGalleryID( instance );\n\n\t\t\t\t\t// Make sure gallery start index matches index from hash\n\t\t\t\t\tif ( gallery && url.gallery && gallery == url.gallery ) {\n\t\t\t\t\t\tinstance.currIndex = url.index - 1;\n\t\t\t\t\t}\n\n\t\t\t\t},\n\n\t\t\t\t'beforeShow.fb' : function( e, instance, current ) {\n\t\t\t\t\tvar gallery;\n\n\t\t\t\t\tif ( !current || current.opts.hash === false ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t            gallery = getGalleryID( instance );\n\n\t\t            // Update window hash\n\t\t            if ( gallery && gallery !== '' ) {\n\n\t\t\t\t\t\tif ( window.location.hash.indexOf( gallery ) < 0 ) {\n\t\t\t                instance.opts.origHash = window.location.hash;\n\t\t\t            }\n\n\t\t\t\t\t\tcurrentHash = gallery + ( instance.group.length > 1 ? '-' + ( current.index + 1 ) : '' );\n\n\t\t\t\t\t\tif ( 'replaceState' in window.history ) {\n\t\t\t\t\t\t\tif ( timerID ) {\n\t\t\t\t\t\t\t\tclearTimeout( timerID );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\ttimerID = setTimeout(function() {\n\t\t\t\t\t\t\t\twindow.history[ shouldCreateHistory ? 'pushState' : 'replaceState' ]( {} , document.title, window.location.pathname + window.location.search + '#' +  currentHash );\n\n\t\t\t\t\t\t\t\ttimerID = null;\n\n\t\t\t\t\t\t\t\tshouldCreateHistory = false;\n\n\t\t\t\t\t\t\t}, 300);\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twindow.location.hash = currentHash;\n\t\t\t\t\t\t}\n\n\t\t            }\n\n\t\t        },\n\n\t\t\t\t'beforeClose.fb' : function( e, instance, current ) {\n\t\t\t\t\tvar gallery, origHash;\n\n\t\t\t\t\tif ( timerID ) {\n\t\t\t\t\t\tclearTimeout( timerID );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( current.opts.hash === false ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tgallery  = getGalleryID( instance );\n\t\t\t\t\torigHash = instance && instance.opts.origHash ? instance.opts.origHash : '';\n\n\t\t            // Remove hash from location bar\n\t\t            if ( gallery && gallery !== '' ) {\n\n\t\t                if ( 'replaceState' in history ) {\n\t\t\t\t\t\t\twindow.history.replaceState( {} , document.title, window.location.pathname + window.location.search + origHash );\n\n\t\t                } else {\n\t\t\t\t\t\t\twindow.location.hash = origHash;\n\n\t\t\t\t\t\t\t// Keep original scroll position\n\t\t\t\t\t\t\t$( window ).scrollTop( instance.scrollTop ).scrollLeft( instance.scrollLeft );\n\t\t                }\n\t\t            }\n\n\t\t\t\t\tcurrentHash = null;\n\t\t        }\n\t\t    });\n\n\t\t\t// Check if need to close after url has changed\n\t\t\t$(window).on('hashchange.fb', function() {\n\t\t\t\tvar url = parseUrl();\n\n\t\t\t\tif ( $.fancybox.getInstance() ) {\n\t\t\t\t\tif ( currentHash && currentHash !== url.gallery + '-' + url.index && !( url.index === 1 && currentHash == url.gallery ) ) {\n\t\t\t\t\t\tcurrentHash = null;\n\n\t\t\t\t\t\t$.fancybox.close();\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( url.gallery !== '' ) {\n\t\t\t\t\ttriggerFromUrl( url );\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Check current hash and trigger click event on matching element to start fancyBox, if needed\n\t\t\ttriggerFromUrl( parseUrl() );\n\n\t\t}, 50);\n\n    });\n\n}(document, window, window.jQuery));\n\n\n\n// WEBPACK FOOTER //\n// itcase_sphinx_theme/itcase/static/js/vendor/jquery.fancybox.js","/*!\n * JavaScript Cookie v2.1.4\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader = false;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api (key, value, attributes) {\n\t\t\tvar result;\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Write\n\n\t\t\tif (arguments.length > 1) {\n\t\t\t\tattributes = extend({\n\t\t\t\t\tpath: '/'\n\t\t\t\t}, api.defaults, attributes);\n\n\t\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\t\tvar expires = new Date();\n\t\t\t\t\texpires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\n\t\t\t\t\tattributes.expires = expires;\n\t\t\t\t}\n\n\t\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\t\ttry {\n\t\t\t\t\tresult = JSON.stringify(value);\n\t\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\t\tvalue = result;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\n\t\t\t\tif (!converter.write) {\n\t\t\t\t\tvalue = encodeURIComponent(String(value))\n\t\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\t\t\t\t} else {\n\t\t\t\t\tvalue = converter.write(value, key);\n\t\t\t\t}\n\n\t\t\t\tkey = encodeURIComponent(String(key));\n\t\t\t\tkey = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\n\t\t\t\tkey = key.replace(/[\\(\\)]/g, escape);\n\n\t\t\t\tvar stringifiedAttributes = '';\n\n\t\t\t\tfor (var attributeName in attributes) {\n\t\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName];\n\t\t\t\t}\n\t\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t\t}\n\n\t\t\t// Read\n\n\t\t\tif (!key) {\n\t\t\t\tresult = {};\n\t\t\t}\n\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all. Also prevents odd result when\n\t\t\t// calling \"get()\"\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar rdecode = /(%[0-9A-Z]{2})+/g;\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = parts[0].replace(rdecode, decodeURIComponent);\n\t\t\t\t\tcookie = converter.read ?\n\t\t\t\t\t\tconverter.read(cookie, name) : converter(cookie, name) ||\n\t\t\t\t\t\tcookie.replace(rdecode, decodeURIComponent);\n\n\t\t\t\t\tif (this.json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tresult = cookie;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!key) {\n\t\t\t\t\t\tresult[name] = cookie;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\tapi.set = api;\n\t\tapi.get = function (key) {\n\t\t\treturn api.call(api, key);\n\t\t};\n\t\tapi.getJSON = function () {\n\t\t\treturn api.apply({\n\t\t\t\tjson: true\n\t\t\t}, [].slice.call(arguments));\n\t\t};\n\t\tapi.defaults = {};\n\n\t\tapi.remove = function (key, attributes) {\n\t\t\tapi(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n\n\n\n// WEBPACK FOOTER //\n// itcase_sphinx_theme/itcase/static/js/vendor/js.cookie.js","module.exports = global[\"Cookies\"] = require(\"-!/Volumes/Work/ITCase/itcase_sphinx_theme/node_modules/babel-loader/lib/index.js!./js.cookie.js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/expose-loader?Cookies!./itcase_sphinx_theme/itcase/static/js/vendor/js.cookie.js\n// module id = ./node_modules/expose-loader/index.js?Cookies!./itcase_sphinx_theme/itcase/static/js/vendor/js.cookie.js\n// module chunks = 0","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = ./node_modules/webpack/buildin/global.js\n// module chunks = 0"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;A;;;;;;AC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AADA;AAJA;AAPA;AACA;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AADA;AAGA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AChKA;AACA;AACA;;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzBA;AAAA;AA6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAKA;AAAA;AAhDA;AAmDA;AAAA;AAEA;AACA;AAtDA;AAyDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AACA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlFA;AAAA;AAAA;AAyFA;AAAA;AACA;AAEA;AACA;AA7FA;AAgGA;AACA;AAjGA;AAoGA;AACA;AArGA;AAwGA;AAAA;AAAA;AAAA;AAIA;AAAA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlJA;AAqJA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AA/JA;AAkKA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AA3KA;AA8KA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhCA;AAmCA;AACA;AACA;AACA;AACA;AACA;AAxCA;AA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnRA;AAsRA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhCA;AAmCA;AACA;AACA;AACA;AACA;AACA;AAxCA;AA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AA5XA;AA+XA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAjcA;AAocA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAzdA;AA4dA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAjfA;AAofA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3gBA;AA8gBA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAriBA;AAwiBA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAzBA;AACA;AA2BA;AACA;AACA;AAnlBA;AAslBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AACA;AAEA;AACA;AAGA;AAGA;AApBA;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhCA;AAmCA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AAroBA;AAwoBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAbA;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA/BA;AAkCA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA/sBA;AAktBA;AACA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AALA;AAAA;AAAA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAKA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3QA;AACA;AA8QA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;AACA;AACA;AACA;AAJA;AACA;AACA;AAKA;AACA;AACA;AACA;AAtBA;AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AAEA;AACA;AAFA;AAQA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAFA;AAOA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAEA;AACA;AAFA;AAOA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAGA;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAFA;AACA;AAOA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AAGA;AAIA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAEA;AACA;AAFA;AAMA;AAAA;AACA;AAGA;AACA;AACA;AACA;AAGA;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AALA;AAQA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AALA;AAQA;AATA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhBA;AACA;AAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;;;;;;;AC31CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AACA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAJA;AACA;AAJA;AACA;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAhBA;AACA;AAoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AACA;AAUA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AADA;AACA;AAGA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AASA;AACA;AACA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AACA;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAXA;AACA;AAtTA;AACA;AA6UA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;AACA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtBA;AAyBA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAOA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAfA;AACA;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhEA;AACA;AAkEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AAKA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AAIA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAIA;AACA;AAGA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAKA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAIA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AA1mEA;AACA;AA8mEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAUA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7QA;AACA;AAgRA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAIA;AACA;AACA;AACA;AACA;AAFA;AAKA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAUA;AACA;AACA;AACA;AAfA;AACA;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AASA;AACA;AACA;AAbA;AACA;AAeA;AACA;AACA;AACA;AAHA;AACA;AAKA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAPA;AACA;AASA;AACA;AACA;AACA;AAHA;AACA;AAKA;AACA;AACA;AACA;AAHA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AA/EA;AACA;AAuFA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAFA;AADA;AACA;AAQA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAKA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAFA;AAKA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAFA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AACA;AAIA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AACA;AAQA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AA9CA;AAiDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AArFA;AACA;AAuFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9CA;AACA;AAgDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AASA;AACA;AASA;AACA;AACA;AA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAnCA;AACA;AAqCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AA9CA;AACA;AAgDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAOA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAMA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhKA;AACA;AAkKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlDA;AAqDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvFA;AACA;AAyFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;;;;;;;AC30JA;;;;;;;AAOA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACpKA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;A","sourceRoot":""}